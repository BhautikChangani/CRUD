<div id="example">
    <div class="configurator">
        <div class="header">Configurator</div>
        <div class="box-col">
            <h4>Show</h4>
            <ul class="options">
                <li>
                    <label>
                        <input id="labels" checked="checked" type="checkbox" autocomplete="off" /> Show labels
                    </label>
                </li>
                <li>
                    <label>
                        <input id="showBorder" type="checkbox" checked="checked" /> Show border
                    </label>
                </li>
            </ul>
        </div>
        <div class="box-col">
            <h4>Align</h4>
            <ul class="options">
                <li>
                    <label>
                        <input name="alignType" type="radio" value="center" checked="checked" autocomplete="off" /> Center
                    </label>
                </li>
                <li>
                    <label>
                        <input name="alignType" type="radio" value="left" autocomplete="off" /> Left
                    </label>
                </li>
                <li>
                    <label>
                        <input name="alignType" type="radio" value="right" autocomplete="off" /> Right
                    </label>
                </li>
            </ul>
        </div>
        <div class="box-col">
            <h4>Position</h4>
            <ul class="options">
                <li>
                    <label>
                        <input name="positionType" type="radio" value="center" checked="checked" autocomplete="off" /> Center
                    </label>
                </li>
                <li>
                    <label>
                        <input name="positionType" type="radio" value="top" autocomplete="off" /> Top
                    </label>
                </li>
                <li>
                    <label>
                        <input name="positionType" type="radio" value="bottom" autocomplete="off" /> Bottom
                    </label>
                </li>
            </ul>
        </div>
        <div class="box-col">
            <h4>Font color</h4>
            <ul class="options">
                <li><label for="color"></label></li>
                <li><input id="color" /></li>
            </ul>
        </div>
        <div class="box-col">
            <h4>Font size</h4>
            <input id="sizeSlider" value="10" />
        </div>
    </div>
    <div class="demo-section">
        @(Html.Kendo().Chart()
        .Name("chart")
        .Title(title => title
              .Text("The AIDA model"))
        .Legend(legend => legend
            .Position(ChartLegendPosition.Top)
        )
        .Transitions(false)
        .Series(series => {
            series.Pyramid(new dynamic[] {
                new {category = "Awareness", value = 4},
                new {category = "Interest", value = 3},
                new {category = "Desire", value = 2},
                new {category = "Action", value = 1},
            })
            .DynamicHeight(false)
            .Labels(labels => labels
                .Template("#= category #")
                .Visible(true)
                .Font("10px sans-serif")
                .Align(ChartPyramidLabelsAlign.Center)
                .Position(ChartPyramidLabelsPosition.Center)
                .Background("transparent")
                .Color("#000")
                .Padding(5)
                .Format("N0")
                .Border(b=>b
                    .Width(1)
                    .DashType(ChartDashType.Dot)
                    .Color("#000")
                )
            );
        })
        .Tooltip(tooltip => tooltip
            .Visible(true)
            .Template("#= category # - #= kendo.format('{0:P}', percentage) #")
        )
    )
    </div>
    <script>
        $(document).ready(function () {
            $('#sizeSlider').kendoSlider({
                change: refresh,
                min: 1,
                max: 40,
                showButtons: false
            });
            $('#color').kendoColorPicker({ change: refresh, value: "#000", buttons: false });
            $(".box-col").on("change", ":checkbox,:radio", refresh);
        });

        function refresh() {
            var chart = $("#chart").data("kendoChart"),
                slider = $('#sizeSlider').data("kendoSlider"),
                colorPicker = $('#color').data("kendoColorPicker"),
                showBorder = $('#showBorder').is(':checked'),
                labels = $("#labels").prop("checked"),
                alignInputs = $("input[name='alignType']"),
                alignLabels = alignInputs.filter(":checked").val(),
                positionInputs = $("input[name='positionType']"),
                position = positionInputs.filter(":checked").val();

            var borderOptions = showBorder ? {
                width: 1,
                dashType: "dot",
                color: "#000"
            } : {
                width: 0
            };

            newLabels = {
                template: "#= category #",
                visible: labels,
                font: slider.value() + "px sans-serif",
                align: alignLabels,
                position: position,
                background: "transparent",
                color: colorPicker.value(),
                padding: 5,
                border: borderOptions,
                format: "N0"
            }

            $('#showBorder').attr("disabled", !labels);
            alignInputs.attr("disabled", !labels);
            positionInputs.attr("disabled", !labels);
            slider.enable(labels);
            colorPicker.enable(labels);

            chart.options.series[0].labels = newLabels;
            chart.redraw();
        }
    </script>
</div>
