<div class="demo-section wide">
    @(Html.Kendo().ListView<Kendo.Mvc.Examples.Models.DestinationViewModel>()
        .Name("listView")
        .TagName("div")
        .DataSource(dataSource => dataSource
            .ServerOperation(false)
            .Read(read => read.Action("Grouping_Read", "ListView"))
            .PageSize(6)
        )
        .ClientTemplate(Html.Kendo().Template()
            .AddHtml(@<text>
                <div class='k-card'>
                         <img class='k-card-media' alt='Telerik UI for ASP.NET MVC ListView ${data.Title}' src='@Url.Content("~/content/shared/images/destinations/${data.ImageUrl}")' />
                         <div class='k-card-body'><h5>${data.Title}</h5><div class='destination-info k-hidden'>${data.Description}</div>
            </text>)
            .AddComponent(rating => rating
                .Rating()
                .Name("rating_${data.Id}")
                .Min(1)
                .Max(5)
                .Label(false)
                .Readonly(true))
            .AddHtml("</div><div class='k-actions k-card-actions k-actions-vertical k-actions-stretched'>")
            .AddComponent(btn => btn
                .Button()
                .Name("btn_${data.Id}")
                .ThemeColor(ThemeColor.Secondary)
                .Content("Read more")
                .Events(events => events.Click("onReadMoreClick")))
            .AddHtml("</div></div>")
        )
        .Pageable()
        .Events(ev => ev.DataBound("onDataBound"))
        )
</div>

@(Html.Kendo().Window()
    .Name("window")
    .Title("Travel inforamtion")
    .Actions(actions => actions.Close())
    .Modal(true)
    .Visible(false)
    .Draggable()
    .Resizable()
    .Width(300)
)

@section scripts {
    <script>
        function onDataBound(e) {
            let listViewData = e.sender.dataSource.view();
            $.each(listViewData, function(index, item){
                $(`#rating_${item.Id}`).val(item.Rating);
            });
        }

        function onReadMoreClick(e) {
            let window = $("#window").data("kendoWindow");
            let clickedButton = $(this.element);
            let description = $(clickedButton).parent().prev().find(".destination-info").text();
            window.content(description);
            window.center().open();
        }
    </script>
}

<style>
    .k-listview-content {
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
    }

    .k-listview-item {
        border-width: 1px;
    }

    .k-card {
        display: inline-flex;
        align-items: center;
        width: 250px;
        height: 100%;
        margin: 2% 0 2% 0;
    }

    .k-card .k-card-media {
        height: 150px;
    }
</style>