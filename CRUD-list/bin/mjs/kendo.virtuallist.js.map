{"version":3,"file":"kendo.virtuallist.js","names":["$","kendo","jQuery","valueMapperOptions","options","value","callback","selectable","checkboxes","success","response","__meta__","id","name","category","depends","hidden","undefined$1","window","ui","encode","htmlEncode","Widget","DataBoundWidget","percentageUnitsRegex","LIST_ITEM","TABLE_ITEM","GROUPITEM","SELECTED","FOCUSED","HOVER","CHANGE","CLICK","LISTBOUND","ITEMCHANGE","ACTIVATE","DEACTIVATE","GROUP_ROW_SEL","VIRTUAL_LIST_NS","lastFrom","array","length","toArray","Array","isPrimitive","dataItem","appendChild","parent","className","tagName","element","document","createElement","render","data","templates","itemTemplate","template","hasColumns","this","columns","altRow","index","item","placeholderTemplate","header","group","html","fixedGroupTemplate","attr","uid","addClass","removeClass","renderedColumns","i","currentWidth","width","currentWidthInt","parseInt","widthStyle","widthValue","test","renderColumns","applyStylesFromKendoAttributes","empty","append","find","remove","toggleClass","current","selected","newGroup","isLastGroupedItem","groupTemplate","appendTo","top","y","style","webkitTransform","transform","position","isActivePromise","promise","state","VirtualList","extend","init","listSize","lineHeight","mockList","that","contentClasses","bound","_fetching","fn","call","itemHeight","css","left","visibility","body","parseFloat","getComputedStyles","height","contentSelector","split","join","wrapper","closest","content","wrap","thead","row","TABLE_LIST","before","prev","ariaLabel","ariaLabelledBy","on","_values","_selectedDataItems","_selectedIndexes","_rangesList","_promisesList","_optionID","guid","_templates","setDataSource","dataSource","throttle","_renderItems","_triggerListBound","delay","_selectable","autoBind","listScreens","threshold","oppositeBuffer","type","dataValueField","mapValueTo","valueMapper","events","setOptions","itemClass","_selectProxy","off","refresh","items","_items","destroy","unbind","_refreshHandler","source","isArray","DataSource","create","_clean","_deferValueSet","mute","bind","setDSFilter","filter","view","fetch","skip","currentRangeStart","_selectingValue","_skip","trigger","_getValues","dataItems","getter","_valueGetter","map","_highlightSelectedItems","_getElementByDataItem","e","result","action","isItemChange","filtered","isFiltered","_mute","focus","_createList","skipUpdateOnBind","_emptySearch","done","itemsToMatch","found","j","itemsLength","selectedLength","changed","unchanged","push","mapChangedItems","removeAt","splice","_removeSelectedDataItem","valueGetter","idx","setValue","_forcePrefetch","slice","_valueDeferred","Deferred","select","_prefetchByValue","_checkValuesOrder","_removedAddedIndexes","newValue","dataView","_dataView","forSelection","mapValueToIndex","mapValueToDataItem","indexes","removed","_deselect","_triggerChange","added","_getIndecies","resolve","deferredRange","take","itemCount","ranges","defs","low","Math","floor","high","ceil","pages","each","_","deferred","end","existingRange","_multiplePrefetch","when","apply","prefetch","isEmptyList","_activeDeferred","_getSkip","_findDataItem","_getRange","_findRange","min","total","dataItemByIndex","progress","range","selectedDataItems","scrollWith","scrollTop","scrollTo","scrollToIndex","candidate","triggerEvent","flatView","isNaN","_getElementByIndex","_focusedIndex","hasClass","removeAttr","_getElementLocation","_screenHeight","focusIndex","focusFirst","focusLast","lastIndex","heightContainer","offsetHeight","focusPrev","focusNext","indices","initialIndices","isAlreadySelected","singleSelection","prefetchStarted","_selectDeferred","_deselectCurrentValues","_select","_listCreated","_lastDSFilter","Query","compareFilters","skipUpdate","noop","_lastScrollTop","_height","hasData","setScreenHeight","screenHeight","yPosition","yDownPostion","screenEnd","key","forEach","column","templateText","field","toString","_generateItems","count","text","tabIndex","setAttribute","minHeight","_saveInitialRanges","_ranges","start","reorder","get","_buildValueGetter","_setHeight","hide","show","_getter","_onScroll","force","getList","_listItems","_fixedHeader","_whenChanged","_reorderList","list","_calculateGroupPadding","_calculateColumnsHeaderPadding","currentHeight","innerHTML","padHeight","lastRequestedRange","lastRangeStart","pageSize","flatGroups","rangeStart","inRange","flatGroup","groups","len","groupLength","_getterDeferred","reject","then","firstItemIndex","_indexConstraint","currentVisibleGroup","firstVisibleDataItemIndex","firstVisibleDataItem","firstVisibleGroup","fixedGroupText","_itemMapper","listType","currentIndex","_currentGroup","_range","_view","_getDataItemsCollection","lastScrollTop","_listIndex","theValidator","downThreshold","upThreshold","listValidator","theNew","currentOffset","Infinity","arr1","arr2","ns","list2","offset","range2","diff","abs","unshift","reshift","_bufferSizes","opposite","down","up","max","buffers","_clickHandler","getElementIndex","elementIndex","selectedIndex","selectedIndexes","removedindexesCounter","inArray","_deselectSingleItem","children","values","oldSkip","currentTarget","isDefaultPrevented","firstItem","first","groupHeader","padding","display","support","scrollbar","isRtl","columnsHeader","plugin","kendo$1"],"sources":["kendo.virtuallist.js"],"mappings":"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","sourcesContent":["import './kendo.data.js';\n\nlet $ = kendo.jQuery;\n\nfunction valueMapperOptions(options, value, callback) {\n    return {\n        value: (options.selectable === \"multiple\" || options.checkboxes) ? value : value[0],\n        success: function(response) {\n            callback(response);\n        }\n    };\n}\n\nvar __meta__ = {\n    id: \"virtuallist\",\n    name: \"VirtualList\",\n    category: \"framework\",\n    depends: [ \"data\" ],\n    hidden: true\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        encode = kendo.htmlEncode,\n        Widget = ui.Widget,\n        DataBoundWidget = ui.DataBoundWidget,\n        percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n        LIST_CONTENT = \"k-list-content k-virtual-content\",\n        TABLE_CONTENT = \"k-table-body k-table-scroller\",\n        HEADER = \"k-list-group-sticky-header\",\n        LIST_ITEM = \"k-list-item\",\n        TABLE_ITEM = \"k-table-row\",\n        HEIGHTCONTAINER = \"k-height-container\",\n        GROUPITEM = \"k-list-item-group-label\",\n        LIST_UL = \"k-list-ul\",\n        TABLE_LIST = \"k-table-list\",\n\n        SELECTED = \"k-selected\",\n        FOCUSED = \"k-focus\",\n        HOVER = \"k-hover\",\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        LISTBOUND = \"listBound\",\n        ITEMCHANGE = \"itemChange\",\n\n        ACTIVATE = \"activate\",\n        DEACTIVATE = \"deactivate\",\n\n        GROUP_ROW_SEL = \".k-table-group-row\",\n\n        VIRTUAL_LIST_NS = \".VirtualList\";\n\n    function lastFrom(array) {\n        return array[array.length - 1];\n    }\n\n    function toArray(value) {\n        return value instanceof Array ? value : [value];\n    }\n\n    function isPrimitive(dataItem) {\n        return typeof dataItem === \"string\" || typeof dataItem === \"number\" || typeof dataItem === \"boolean\";\n    }\n\n    function getItemCount(screenHeight, listScreens, itemHeight) {\n        return Math.ceil(screenHeight * listScreens / itemHeight);\n    }\n\n    function appendChild(parent, className, tagName) {\n        var element = document.createElement(tagName || \"div\");\n        if (className) {\n            element.className = className;\n        }\n        parent.appendChild(element);\n\n        return element;\n    }\n\n    function getDefaultItemHeight(listSize) {\n        var mockList = $('<div class=\"k-list ' + listSize + ' k-virtual-list\">' +\n                '<div class=\"k-list-content k-virtual-content\">' +\n                    '<ul class=\"k-list-ul\">' +\n                        '<li class=\"k-list-item\">' +\n                            '<span class=\"k-list-item-text\">test</span>' +\n                        '</li>' +\n                    '</ul>' +\n                '</div>' +\n            '</div>');\n        var lineHeight;\n\n        mockList.css({\n            position: \"absolute\",\n            left: \"-200000px\",\n            visibility: \"hidden\"\n        });\n        mockList.appendTo(document.body);\n        lineHeight = parseFloat(kendo.getComputedStyles(mockList.find(\".k-list-item\")[0], [\"height\"]).height);\n        mockList.remove();\n\n        return lineHeight;\n    }\n\n    function bufferSizes(screenHeight, listScreens, opposite) { //in pixels\n        return {\n            down: screenHeight * opposite,\n            up: screenHeight * (listScreens - 1 - opposite)\n        };\n    }\n\n    function listValidator(options, screenHeight) {\n        var downThreshold = (options.listScreens - 1 - options.threshold) * screenHeight;\n        var upThreshold = options.threshold * screenHeight;\n\n        return function(list, scrollTop, lastScrollTop) {\n            if (scrollTop > lastScrollTop) {\n                return scrollTop - list.top < downThreshold;\n            } else {\n                return list.top === 0 || scrollTop - list.top > upThreshold;\n            }\n        };\n    }\n\n    function scrollCallback(element, callback) {\n        return function(force) {\n            return callback(element.scrollTop, force);\n        };\n    }\n\n    function syncList(reorder) {\n        return function(list, force) {\n            reorder(list.items, list.index, force);\n            return list;\n        };\n    }\n\n    function position(element, y) {\n        element.style.webkitTransform = 'translateY(' + y + \"px)\";\n        element.style.transform = 'translateY(' + y + \"px)\";\n    }\n\n    function map2(callback, templates) {\n        return function(arr1, arr2) {\n            for (var i = 0, len = arr1.length; i < len; i++) {\n                callback(arr1[i], arr2[i], templates);\n                if (arr2[i].item) {\n                    this.trigger(ITEMCHANGE, { item: $(arr1[i]), data: arr2[i].item, ns: kendo.ui });\n                }\n            }\n        };\n    }\n\n    function reshift(items, diff) {\n        var range;\n\n        if (diff > 0) { // down\n            range = items.splice(0, diff);\n            items.push.apply(items, range);\n        } else { // up\n            range = items.splice(diff, -diff);\n            items.unshift.apply(items, range);\n        }\n\n        return range;\n    }\n\n    function render(element, data, templates) {\n        var itemTemplate = templates.template,\n            hasColumns = this.options.columns && this.options.columns.length,\n            altRow = data.index % 2 === 1 ? \"k-table-alt-row\" : \"\";\n\n        element = $(element);\n\n        if (!data.item) {\n            itemTemplate = templates.placeholderTemplate;\n        }\n\n        if (data.index === 0 && this.header && data.group) {\n            this.header.html(templates.fixedGroupTemplate(data.group));\n        }\n\n        element\n            .attr(\"data-uid\", data.item ? data.item.uid : \"\")\n            .attr(\"data-offset-index\", data.index);\n\n        if (hasColumns && data.item) {\n            if (altRow.length > 0) {\n                element.addClass(altRow);\n            } else {\n                element.removeClass(\"k-table-alt-row\");\n            }\n\n            let renderedColumns = $(renderColumns(this.options, data.item, templates));\n            kendo.applyStylesFromKendoAttributes(renderedColumns, [\"width\", \"max-width\"]);\n            element.empty().append(renderedColumns);\n        } else {\n            element.find(\".\" + GROUPITEM).remove();\n            element.find(\".k-list-item-text\").html(itemTemplate(data.item || {}));\n        }\n\n        element.toggleClass(FOCUSED, data.current);\n        element.toggleClass(SELECTED, data.selected);\n        element.toggleClass(\"k-first\", data.newGroup);\n        element.toggleClass(\"k-last\", data.isLastGroupedItem);\n        element.toggleClass(\"k-loading-item\", !data.item);\n\n        if (data.index !== 0 && data.newGroup) {\n            if (hasColumns) {\n                $('<span class=\"k-table-td k-table-group-td\"><span>' + templates.groupTemplate(data.group) + '</span></span>')\n                    .appendTo(element);\n            } else {\n                $(\"<div class=\" + GROUPITEM + \"></div>\")\n                    .appendTo(element)\n                    .html(templates.groupTemplate(data.group));\n            }\n        } else if (data.group && hasColumns) {\n            element.append($('<span class=\"k-table-td k-table-spacer-td\"></span>'));\n        }\n\n        if (data.top !== undefined$1) {\n            position(element[0], data.top);\n        }\n    }\n\n    function renderColumns(options, dataItem, templates) {\n        var item = \"\";\n\n        for (var i = 0; i < options.columns.length; i++) {\n            var currentWidth = options.columns[i].width;\n            var currentWidthInt = parseInt(currentWidth, 10);\n            var widthStyle = '';\n\n            if (currentWidth) {\n                let widthValue = `${currentWidthInt}${percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\"}`;\n                widthStyle = `${kendo.attr(\"style-width\")}=\"${widthValue}\" ${kendo.attr(\"style-max-width\")}=\"${widthValue}\"`;\n            }\n\n            item += \"<span class='k-table-td' \" + widthStyle + \">\";\n            item += templates[\"column\" + i](dataItem);\n            item += \"</span>\";\n        }\n\n        return item;\n    }\n\n    function mapChangedItems(selected, itemsToMatch) {\n        var itemsLength = itemsToMatch.length;\n        var selectedLength = selected.length;\n        var dataItem;\n        var found;\n        var i, j;\n\n        var changed = [];\n        var unchanged = [];\n\n        if (selectedLength) {\n            for (i = 0; i < selectedLength; i++) {\n                dataItem = selected[i];\n                found = false;\n\n                for (j = 0; j < itemsLength; j++) {\n                    if (dataItem === itemsToMatch[j]) {\n                        found = true;\n                        changed.push({ index: i, item: dataItem });\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    unchanged.push(dataItem);\n                }\n            }\n        }\n\n        return {\n            changed: changed,\n            unchanged: unchanged\n        };\n    }\n\n    function isActivePromise(promise) {\n        return promise && promise.state() !== \"resolved\";\n    }\n\n    var VirtualList = DataBoundWidget.extend({\n        init: function(element, options) {\n            var that = this,\n                contentClasses = options.columns && options.columns.length ? TABLE_CONTENT : LIST_CONTENT;\n\n            that.bound(false);\n            that._fetching = false;\n\n            Widget.fn.init.call(that, element, options);\n\n            if (!that.options.itemHeight) {\n                that.options.itemHeight = getDefaultItemHeight(options.listSize);\n            }\n\n            options = that.options;\n\n            that.element.attr(\"role\", \"listbox\");\n\n            var contentSelector = \".\" + contentClasses.split(' ').join('.');\n            var wrapper = that.element.closest(contentSelector);\n\n            that.content = that.wrapper = wrapper.length ? wrapper : that.element.wrap(\"<div unselectable='on' class='\" + contentClasses + \"'></div>\").parent();\n\n            if (that.options.columns && that.options.columns.length) {\n                var thead = that.element.closest(\".k-data-table\").find('.k-table-thead');\n                var row = $('<tr class=\"k-table-group-row\">' +\n                    '<th class=\"k-table-th\" colspan=\"' + that.options.columns.length + '\"></th>' +\n                '</tr>');\n\n                thead.append(row);\n\n                that.header = row.find(\".k-table-th\");\n                that.element.addClass(TABLE_LIST + \" k-virtual-table\");\n            } else {\n                that.header = that.content.before(\"<div class='\" + HEADER + \"'></div>\").prev();\n                that.element.addClass(LIST_UL);\n            }\n\n            if (options.ariaLabel) {\n                this.element.attr(\"aria-label\", options.ariaLabel);\n            } else if (options.ariaLabelledBy) {\n                this.element.attr(\"aria-labelledby\", options.ariaLabelledBy);\n            }\n\n            that.element.on(\"mouseenter\" + VIRTUAL_LIST_NS, \"li:not(.k-loading-item)\", function() { $(this).addClass(HOVER); })\n                        .on(\"mouseleave\" + VIRTUAL_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n            that._values = toArray(that.options.value);\n            that._selectedDataItems = [];\n            that._selectedIndexes = [];\n            that._rangesList = {};\n            that._promisesList = [];\n            that._optionID = kendo.guid();\n\n            that._templates();\n\n            that.setDataSource(options.dataSource);\n\n            that.content.on(\"scroll\" + VIRTUAL_LIST_NS, kendo.throttle(function() {\n                that._renderItems();\n                that._triggerListBound();\n            }, options.delay));\n\n            that._selectable();\n        },\n\n        options: {\n            name: \"VirtualList\",\n            autoBind: true,\n            delay: 100,\n            height: null,\n            listScreens: 4,\n            threshold: 0.5,\n            itemHeight: null,\n            oppositeBuffer: 1,\n            type: \"flat\",\n            selectable: false,\n            value: [],\n            dataValueField: null,\n            template: (data) => encode(data),\n            placeholderTemplate: () => \"loading...\",\n            groupTemplate: (data) => encode(data),\n            fixedGroupTemplate: (data) => encode(data),\n            mapValueTo: \"index\",\n            valueMapper: null,\n            ariaLabel: null,\n            ariaLabelledBy: null\n        },\n\n        events: [\n            CHANGE,\n            CLICK,\n            LISTBOUND,\n            ITEMCHANGE,\n            ACTIVATE,\n            DEACTIVATE\n        ],\n\n        setOptions: function(options) {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            Widget.fn.setOptions.call(this, options);\n\n            if (this._selectProxy && this.options.selectable === false) {\n                this.element.off(CLICK, \".\" + itemClass, this._selectProxy);\n            } else if (!this._selectProxy && this.options.selectable) {\n                this._selectable();\n            }\n\n            this._templates();\n            this.refresh();\n        },\n\n        items: function() {\n            return $(this._items);\n        },\n\n        destroy: function() {\n            this.wrapper.off(VIRTUAL_LIST_NS);\n            this.dataSource.unbind(CHANGE, this._refreshHandler);\n            Widget.fn.destroy.call(this);\n        },\n\n        setDataSource: function(source) {\n            var that = this;\n            var dataSource = source || {};\n            var value;\n\n            dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n            dataSource = kendo.data.DataSource.create(dataSource);\n\n            if (that.dataSource) {\n                that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                that._clean();\n                that.bound(false);\n\n                that._deferValueSet = true;\n                value = that.value();\n\n                that.value([]);\n                that.mute(function() {\n                    that.value(value);\n                });\n            } else {\n                that._refreshHandler = that.refresh.bind(that);\n            }\n\n            that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n\n            that.setDSFilter(dataSource.filter());\n\n            if (dataSource.view().length !== 0) {\n                that.refresh();\n            } else if (that.options.autoBind) {\n                dataSource.fetch();\n            }\n        },\n\n        skip: function() {\n            return this.dataSource.currentRangeStart();\n        },\n\n        _triggerListBound: function() {\n            var that = this;\n            var skip = that.skip();\n\n            if (that.bound() && !that._selectingValue && that._skip !== skip) {\n                that._skip = skip;\n                that.trigger(LISTBOUND);\n            }\n        },\n\n        _getValues: function(dataItems) {\n            var getter = this._valueGetter;\n\n            return $.map(dataItems, function(dataItem) {\n                return getter(dataItem);\n            });\n        },\n\n        _highlightSelectedItems: function() {\n            for (var i = 0; i < this._selectedDataItems.length; i++) {\n                var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                if (item.length) {\n                    item.addClass(SELECTED);\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var that = this;\n            var action = e && e.action;\n            var isItemChange = action === \"itemchange\";\n            var filtered = this.isFiltered();\n            var result;\n\n            if (that._mute) { return; }\n\n            that._deferValueSet = false;\n\n            if (!that._fetching) {\n                if (filtered) {\n                    that.focus(0);\n                }\n\n                that._createList();\n                if (!action && that._values.length && !filtered &&\n                     !that.options.skipUpdateOnBind && !that._emptySearch) {\n                    that._selectingValue = true;\n\n                    that.bound(true);\n                    that.value(that._values, true).done(function() {\n                        that._selectingValue = false;\n                        that._triggerListBound();\n                    });\n                } else {\n                    that.bound(true);\n                    that._highlightSelectedItems();\n                    that._triggerListBound();\n                }\n            } else {\n                if (that._renderItems) {\n                    that._renderItems(true);\n                }\n\n                that._triggerListBound();\n            }\n\n            if (isItemChange || action === \"remove\") {\n                result = mapChangedItems(that._selectedDataItems, e.items);\n                if (result.changed.length) {\n                    if (isItemChange) {\n                        that.trigger(\"selectedItemChange\", {\n                            items: result.changed\n                        });\n                    } else {\n                        that.value(that._getValues(result.unchanged));\n                    }\n                }\n            }\n\n            that._fetching = false;\n        },\n\n        removeAt: function(position) {\n            var value = this._values.splice(position, 1)[0];\n\n            return {\n                position: position,\n                dataItem: this._removeSelectedDataItem(value)\n            };\n        },\n\n        _removeSelectedDataItem: function(value) {\n            var that = this,\n                valueGetter = that._valueGetter;\n\n            for (var idx in that._selectedDataItems) {\n                if (valueGetter(that._selectedDataItems[idx]) === value) {\n                    that._selectedIndexes.splice(idx, 1);\n                    return that._selectedDataItems.splice(idx, 1)[0];\n                }\n            }\n        },\n\n        setValue: function(value) {\n            this._values = toArray(value);\n        },\n\n        value: function(value, _forcePrefetch) {\n            var that = this;\n\n            if (value === undefined$1) {\n                return that._values.slice();\n            }\n\n            if (value === null) {\n                value = [];\n            }\n\n            value = toArray(value);\n\n            if (!that._valueDeferred || that._valueDeferred.state() === \"resolved\") {\n                that._valueDeferred = $.Deferred();\n            }\n\n            var shouldClear = that.options.selectable === \"multiple\" && that.select().length && value.length;\n\n            if (shouldClear || !value.length) {\n                that.select(-1);\n            }\n\n            that._values = value;\n\n            if ((that.bound() && !that._mute && !that._deferValueSet) || _forcePrefetch) {\n                that._prefetchByValue(value);\n            }\n\n            return that._valueDeferred;\n        },\n\n        _checkValuesOrder: function(value) {\n            if (this._removedAddedIndexes &&\n                this._removedAddedIndexes.length === value.length) {\n                    var newValue = this._removedAddedIndexes.slice();\n                    this._removedAddedIndexes = null;\n                return newValue;\n            }\n\n            return value;\n        },\n\n        _prefetchByValue: function(value) {\n            var that = this,\n                dataView = that._dataView,\n                valueGetter = that._valueGetter,\n                mapValueTo = that.options.mapValueTo,\n                item, match = false,\n                forSelection = [];\n\n            //try to find the items in the loaded data\n            for (var i = 0; i < value.length; i++) {\n                for (var idx = 0; idx < dataView.length; idx++) {\n                    item = dataView[idx].item;\n                    if (item) {\n                        match = isPrimitive(item) ? value[i] === item : value[i] === valueGetter(item);\n\n                        if (match) {\n                            forSelection.push(dataView[idx].index);\n                        }\n                    }\n                }\n            }\n\n            if (forSelection.length === value.length) {\n                that._values = [];\n                that.select(forSelection);\n                return;\n            }\n\n            //prefetch the items\n            if (typeof that.options.valueMapper === \"function\") {\n                const callback = mapValueTo === 'index' ? that.mapValueToIndex : that.mapValueToDataItem;\n                that.options.valueMapper(valueMapperOptions(this.options, value, callback.bind(that)));\n            } else {\n                 if (!that.value()[0]) {\n                     that.select([-1]);\n                 } else {\n                    that._selectingValue = false;\n                    that._triggerListBound();\n                 }\n            }\n        },\n\n        mapValueToIndex: function(indexes) {\n            if (indexes === undefined$1 || indexes === -1 || indexes === null) {\n                indexes = [];\n            } else {\n                indexes = toArray(indexes);\n            }\n\n            if (!indexes.length) {\n                indexes = [-1];\n            } else {\n                var removed = this._deselect([]).removed;\n                if (removed.length) {\n                    this._triggerChange(removed, []);\n                }\n            }\n\n            this.select(indexes);\n        },\n\n        mapValueToDataItem: function(dataItems) {\n            var removed, added;\n\n            if (dataItems === undefined$1 || dataItems === null) {\n                dataItems = [];\n            } else {\n                dataItems = toArray(dataItems);\n            }\n\n            if (!dataItems.length) {\n                this.select([-1]);\n            } else {\n                removed = $.map(this._selectedDataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                added = $.map(dataItems, function(item, index) {\n                    return { index: index, dataItem: item };\n                });\n\n                this._selectedDataItems = dataItems;\n\n                this._selectedIndexes = [];\n\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    var item = this._getElementByDataItem(this._selectedDataItems[i]);\n                    this._selectedIndexes.push(this._getIndecies(item)[0]);\n                    item.addClass(SELECTED);\n                }\n\n                this._triggerChange(removed, added);\n\n                if (this._valueDeferred) {\n                    this._valueDeferred.resolve();\n                }\n            }\n        },\n\n        deferredRange: function(index) {\n            var dataSource = this.dataSource;\n            var take = this.itemCount;\n            var ranges = this._rangesList;\n            var result = $.Deferred();\n            var defs = [];\n\n            var low = Math.floor(index / take) * take;\n            var high = Math.ceil(index / take) * take;\n\n            var pages = high === low ? [ high ] : [ low, high ];\n\n            $.each(pages, function(_, skip) {\n                var end = skip + take;\n                var existingRange = ranges[skip];\n                var deferred;\n\n                if (!existingRange || (existingRange.end !== end)) {\n                    deferred = $.Deferred();\n                    ranges[skip] = { end: end, deferred: deferred };\n\n                    dataSource._multiplePrefetch(skip, take, function() {\n                        deferred.resolve();\n                    });\n                } else {\n                    deferred = existingRange.deferred;\n                }\n\n                defs.push(deferred);\n            });\n\n            $.when.apply($, defs).done(function() {\n                result.resolve();\n            });\n\n            return result;\n        },\n\n        prefetch: function(indexes) {\n            var that = this,\n                take = this.itemCount,\n                isEmptyList = !that._promisesList.length;\n\n            if (!isActivePromise(that._activeDeferred)) {\n                that._activeDeferred = $.Deferred();\n                that._promisesList = [];\n            }\n\n            $.each(indexes, function(_, index) {\n                that._promisesList.push(that.deferredRange(that._getSkip(index, take)));\n            });\n\n            if (isEmptyList) {\n                $.when.apply($, that._promisesList).done(function() {\n                    that._promisesList = [];\n                    that._activeDeferred.resolve();\n                });\n            }\n\n            return that._activeDeferred;\n        },\n\n        _findDataItem: function(view, index) {\n            var group;\n\n            //find in grouped view\n            if (this.options.type === \"group\") {\n                for (var i = 0; i < view.length; i++) {\n                    group = view[i].items;\n                    if (group.length <= index) {\n                        index = index - group.length;\n                    } else {\n                        return group[index];\n                    }\n                }\n            }\n\n            //find in flat view\n            return view[index];\n        },\n\n        _getRange: function(skip, take) {\n            return this.dataSource._findRange(skip, Math.min(skip + take, this.dataSource.total()));\n        },\n\n        dataItemByIndex: function(index) {\n            var that = this;\n            var take = that.itemCount;\n            var skip = that._getSkip(index, take);\n            var view = this._getRange(skip, take);\n\n            //should not return item if data is not loaded\n            if (!that._getRange(skip, take).length) {\n                return null;\n            }\n\n            if (that.options.type === \"group\") {\n                kendo.ui.progress($(that.wrapper), true);\n                that.mute(function() {\n                    that.dataSource.range(skip, take, function() {\n                        kendo.ui.progress($(that.wrapper), false);\n                    });\n                    view = that.dataSource.view();\n                });\n            }\n\n            return that._findDataItem(view, [index - skip]);\n        },\n\n        selectedDataItems: function() {\n            return this._selectedDataItems.slice();\n        },\n\n        scrollWith: function(value) {\n            this.content.scrollTop(this.content.scrollTop() + value);\n        },\n\n        scrollTo: function(y) {\n            this.content.scrollTop(y); //works only if the element is visible\n        },\n\n        scrollToIndex: function(index) {\n            this.scrollTo(index * this.options.itemHeight);\n        },\n\n        focus: function(candidate) {\n            var element,\n                index,\n                data,\n                current,\n                itemHeight = this.options.itemHeight,\n                id = this._optionID,\n                triggerEvent = true;\n\n            if (candidate === undefined$1) {\n                current = this.element.find(\".\" + FOCUSED);\n                return current.length ? current : null;\n            }\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        break;\n                    }\n                }\n            }\n\n            if (candidate instanceof Array) {\n                candidate = lastFrom(candidate);\n            }\n\n            if (isNaN(candidate)) {\n                element = $(candidate);\n                index = parseInt($(element).attr(\"data-offset-index\"), 10);\n            } else {\n                index = candidate;\n                element = this._getElementByIndex(index);\n            }\n\n            if (index === -1) {\n                this.element.find(\".\" + FOCUSED).removeClass(FOCUSED);\n                this._focusedIndex = undefined$1;\n                return;\n            }\n\n            if (element.length) { /*focus rendered item*/\n                if (element.hasClass(FOCUSED)) {\n                    triggerEvent = false;\n                }\n                if (this._focusedIndex !== undefined$1) {\n                    current = this._getElementByIndex(this._focusedIndex);\n                    current\n                        .removeClass(FOCUSED)\n                        .removeAttr(\"id\");\n\n                    if (triggerEvent) {\n                        this.trigger(DEACTIVATE);\n                    }\n                }\n\n                this._focusedIndex = index;\n\n                element\n                    .addClass(FOCUSED)\n                    .attr(\"id\", id);\n\n                var position = this._getElementLocation(index);\n\n                if (position === \"top\") {\n                    this.scrollTo(index * itemHeight);\n                } else if (position === \"bottom\") {\n                    this.scrollTo((index * itemHeight + itemHeight) - this._screenHeight);\n                } else if (position === \"outScreen\") {\n                    this.scrollTo(index * itemHeight);\n                }\n\n                if (triggerEvent) {\n                    this.trigger(ACTIVATE);\n                }\n            } else { /*focus non rendered item*/\n                this._focusedIndex = index;\n                this.items().removeClass(FOCUSED);\n                this.scrollToIndex(index);\n            }\n        },\n\n        focusIndex: function() {\n            return this._focusedIndex;\n        },\n\n        focusFirst: function() {\n            this.scrollTo(0);\n            this.focus(0);\n        },\n\n        focusLast: function() {\n            var lastIndex = this.dataSource.total();\n            this.scrollTo(this.heightContainer.offsetHeight);\n            this.focus(lastIndex - 1);\n        },\n\n        focusPrev: function() {\n            var index = this._focusedIndex;\n            var current;\n\n            if (!isNaN(index) && index > 0) {\n                index -= 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index += 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = this.dataSource.total() - 1;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        focusNext: function() {\n            var index = this._focusedIndex;\n            var lastIndex = this.dataSource.total() - 1;\n            var current;\n\n            if (!isNaN(index) && index < lastIndex) {\n                index += 1;\n                this.focus(index);\n\n                current = this.focus();\n                if (current && current.hasClass(\"k-loading-item\")) {\n                    index -= 1;\n                    this.focus(index);\n                }\n\n                return index;\n            } else {\n                index = 0;\n                this.focus(index);\n                return index;\n            }\n        },\n\n        _triggerChange: function(removed, added) {\n            removed = removed || [];\n            added = added || [];\n\n            if (removed.length || added.length) {\n                 this.trigger(CHANGE, {\n                    removed: removed,\n                    added: added\n                });\n            }\n        },\n\n        select: function(candidate) {\n            var that = this,\n                indices,\n                initialIndices,\n                singleSelection = that.options.selectable !== \"multiple\",\n                prefetchStarted = isActivePromise(that._activeDeferred),\n                filtered = this.isFiltered(),\n                isAlreadySelected,\n                deferred,\n                result,\n                removed = [];\n\n            if (candidate === undefined$1) {\n                return that._selectedIndexes.slice();\n            }\n\n            if (!that._selectDeferred || that._selectDeferred.state() === \"resolved\") {\n                that._selectDeferred = $.Deferred();\n            }\n\n            indices = that._getIndecies(candidate);\n            isAlreadySelected = singleSelection && !filtered && lastFrom(indices) === lastFrom(this._selectedIndexes);\n            removed = that._deselectCurrentValues(indices);\n\n            if (removed.length || !indices.length || isAlreadySelected) {\n                that._triggerChange(removed);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve().promise();\n                }\n\n                return that._selectDeferred.resolve().promise();\n            }\n\n            if (indices.length === 1 && indices[0] === -1) {\n                indices = [];\n            }\n\n            initialIndices = indices;\n            result = that._deselect(indices);\n            removed = result.removed;\n            indices = result.indices;\n\n            if (singleSelection) {\n                prefetchStarted = false;\n                if (indices.length) {\n                    indices = [lastFrom(indices)];\n                }\n            }\n\n            var done = function() {\n                var added = that._select(indices);\n\n                if (initialIndices.length === indices.length || singleSelection) {\n                    that.focus(indices);\n                }\n\n                that._triggerChange(removed, added);\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n\n                that._selectDeferred.resolve();\n            };\n\n            deferred = that.prefetch(indices);\n\n            if (!prefetchStarted) {\n                if (deferred) {\n                    deferred.done(done);\n                } else {\n                    done();\n                }\n            }\n\n            return that._selectDeferred.promise();\n        },\n\n        bound: function(bound) {\n            if (bound === undefined$1) {\n                return this._listCreated;\n            }\n\n            this._listCreated = bound;\n        },\n\n        mute: function(callback) {\n            this._mute = true;\n            callback();\n            this._mute = false;\n        },\n\n        setDSFilter: function(filter) {\n            this._lastDSFilter = $.extend({}, filter);\n        },\n\n        isFiltered: function() {\n            if (!this._lastDSFilter) {\n                this.setDSFilter(this.dataSource.filter());\n            }\n\n            return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n        },\n\n        skipUpdate: $.noop,\n\n        _getElementByIndex: function(index) {\n            return this.items().filter(function(idx, element) {\n                return index === parseInt($(element).attr(\"data-offset-index\"), 10);\n            });\n        },\n\n        _getElementByDataItem: function(dataItem) {\n            var dataView = this._dataView,\n            valueGetter = this._valueGetter,\n                element, match;\n\n            for (var i = 0; i < dataView.length; i++) {\n                match = dataView[i].item && isPrimitive(dataView[i].item) ? dataView[i].item === dataItem : dataView[i].item && dataItem && valueGetter(dataView[i].item) == valueGetter(dataItem);\n                if (match) {\n                    element = dataView[i];\n                    break;\n                }\n            }\n\n            return element ? this._getElementByIndex(element.index) : $();\n        },\n\n        _clean: function() {\n            this.result = undefined$1;\n            this._lastScrollTop = undefined$1;\n            this._skip = undefined$1;\n            $(this.heightContainer).remove();\n            this.heightContainer = undefined$1;\n            this.element.empty();\n        },\n\n        _height: function() {\n            var hasData = !!this.dataSource.view().length,\n                height = this.options.height,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            if (!hasData) {\n                height = 0;\n            } else if (height / itemHeight > total) {\n                height = total * itemHeight;\n            }\n\n            return height;\n        },\n\n        setScreenHeight: function() {\n            var height = this._height();\n\n            this.content.height(height);\n            this._screenHeight = height;\n        },\n\n        screenHeight: function() {\n            return this._screenHeight;\n        },\n\n        _getElementLocation: function(index) {\n            var scrollTop = this.content.scrollTop(),\n                screenHeight = this._screenHeight,\n                itemHeight = this.options.itemHeight,\n                yPosition = index * itemHeight,\n                yDownPostion = yPosition + itemHeight,\n                screenEnd = scrollTop + screenHeight,\n                position;\n\n            if (yPosition === (scrollTop - itemHeight) || (yDownPostion > scrollTop && yPosition < scrollTop)) {\n                position = \"top\";\n            } else if (yPosition === screenEnd || (yPosition < screenEnd && screenEnd < yDownPostion)) {\n                position = \"bottom\";\n            } else if ((yPosition >= scrollTop) && (yPosition <= scrollTop + (screenHeight - itemHeight))) {\n                position = \"inScreen\";\n            } else {\n                position = \"outScreen\";\n            }\n\n            return position;\n        },\n\n        _templates: function() {\n            var options = this.options;\n            var templates = {\n                template: options.template,\n                placeholderTemplate: options.placeholderTemplate,\n                groupTemplate: options.groupTemplate,\n                fixedGroupTemplate: options.fixedGroupTemplate\n            };\n\n            if (options.columns) {\n                options.columns.forEach((column, i) => {\n                    var templateText = column.field ? column.field.toString() : \"text\";\n                    var templateFunc = data => encode(kendo.getter(templateText)(data));\n\n                    templates[\"column\" + i] = column.template || templateFunc;\n                });\n            }\n\n            for (var key in templates) {\n                if (typeof templates[key] !== \"function\") {\n                    templates[key] = kendo.template(templates[key] || \"\");\n                }\n            }\n\n            this.templates = templates;\n        },\n\n        _generateItems: function(element, count) {\n            var items = [],\n                item, text,\n                itemHeight = this.options.itemHeight + \"px\",\n                itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            while (count-- > 0) {\n                text = document.createElement(\"span\");\n                text.className = \"k-list-item-text\";\n\n                item = document.createElement(\"li\");\n                item.tabIndex = -1;\n                item.className = itemClass;\n                item.setAttribute(\"role\", \"option\");\n                item.style.height = itemHeight;\n                item.style.minHeight = itemHeight;\n                item.appendChild(text);\n\n                element.appendChild(item);\n\n                items.push(item);\n            }\n\n            return items;\n        },\n\n        _saveInitialRanges: function() {\n            var ranges = this.dataSource._ranges;\n            var deferred = $.Deferred();\n            deferred.resolve();\n\n            this._rangesList = {};\n            for (var i = 0; i < ranges.length; i++) {\n                this._rangesList[ranges[i].start] = { end: ranges[i].end, deferred: deferred };\n            }\n        },\n\n        _createList: function() {\n            var that = this,\n                content = that.content.get(0),\n                options = that.options,\n                dataSource = that.dataSource;\n\n            if (that.bound()) {\n                that._clean();\n            }\n\n            that._saveInitialRanges();\n            that._buildValueGetter();\n            that.setScreenHeight();\n            that.itemCount = getItemCount(that._screenHeight, options.listScreens, options.itemHeight);\n\n            if (that.itemCount > dataSource.total()) {\n                that.itemCount = dataSource.total();\n            }\n\n            that._items = that._generateItems(that.element[0], that.itemCount);\n\n            that._setHeight(options.itemHeight * dataSource.total());\n            that.options.type = (dataSource.group() || []).length ? \"group\" : \"flat\";\n\n            if (that.options.type === \"flat\") {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).hide();\n                } else {\n                    that.header.hide();\n                }\n            } else {\n                if (that.header.closest(GROUP_ROW_SEL).length) {\n                    that.header.closest(GROUP_ROW_SEL).show();\n                } else {\n                    that.header.show();\n                }\n            }\n\n            that.getter = that._getter(function() {\n                that._renderItems(true);\n            });\n\n            that._onScroll = function(scrollTop, force) {\n                var getList = that._listItems(that.getter);\n                return that._fixedHeader(scrollTop, getList(scrollTop, force));\n            };\n\n            that._renderItems = that._whenChanged(\n                scrollCallback(content, that._onScroll),\n                syncList(that._reorderList(that._items, render.bind(that)))\n            );\n\n            that._renderItems();\n            that._calculateGroupPadding(that._screenHeight);\n            that._calculateColumnsHeaderPadding();\n        },\n\n        _setHeight: function(height) {\n            var currentHeight,\n                heightContainer = this.heightContainer;\n\n            if (!heightContainer) {\n                heightContainer = this.heightContainer = appendChild(this.content[0], HEIGHTCONTAINER);\n            } else {\n                currentHeight = heightContainer.offsetHeight;\n            }\n\n            if (height !== currentHeight) {\n                heightContainer.innerHTML = \"\";\n\n                while (height > 0) {\n                    var padHeight = Math.min(height, 250000); //IE workaround, should not create elements with height larger than 250000px\n                    appendChild(heightContainer).style.height = padHeight + \"px\";\n                    height -= padHeight;\n                }\n            }\n        },\n\n        _getter: function() {\n            var lastRequestedRange = null,\n                dataSource = this.dataSource,\n                lastRangeStart = dataSource.skip(),\n                type = this.options.type,\n                pageSize = this.itemCount,\n                flatGroups = {};\n\n            if (dataSource.pageSize() < pageSize) {\n                this.mute(function() {\n                    dataSource.pageSize(pageSize);\n                });\n            }\n\n            return function(index, rangeStart) {\n                var that = this;\n                if (!dataSource.inRange(rangeStart, pageSize)) {\n                    if (lastRequestedRange !== rangeStart) {\n                        lastRequestedRange = rangeStart;\n                        lastRangeStart = rangeStart;\n\n                        if (that._getterDeferred) {\n                            that._getterDeferred.reject();\n                        }\n\n                        that._getterDeferred = that.deferredRange(rangeStart);\n                        that._getterDeferred.then(function() {\n                            var firstItemIndex = that._indexConstraint(that.content[0].scrollTop);\n\n                            that._getterDeferred = null;\n\n                            if (rangeStart <= firstItemIndex && firstItemIndex <= (rangeStart + pageSize)) {\n                                that._fetching = true;\n                                dataSource.range(rangeStart, pageSize);\n                            }\n                        });\n                    }\n\n                    return null;\n                } else {\n                    if (lastRangeStart !== rangeStart) {\n                        this.mute(function() {\n                            dataSource.range(rangeStart, pageSize);\n                            lastRangeStart = rangeStart;\n                        });\n                    }\n\n                    var result;\n                    if (type === \"group\") { //grouped list\n                        if (!flatGroups[rangeStart]) {\n                            var flatGroup = flatGroups[rangeStart] = [];\n                            var groups = dataSource.view();\n                            for (var i = 0, len = groups.length; i < len; i++) {\n                                var group = groups[i];\n                                for (var j = 0, groupLength = group.items.length; j < groupLength; j++) {\n                                    flatGroup.push({ item: group.items[j], group: group.value });\n                                }\n                            }\n                        }\n\n                        result = flatGroups[rangeStart][index - rangeStart];\n                    } else { //flat list\n                        result = dataSource.view()[index - rangeStart];\n                    }\n\n                    return result;\n                }\n            };\n        },\n\n        _fixedHeader: function(scrollTop, list) {\n            var group = this.currentVisibleGroup,\n                itemHeight = this.options.itemHeight,\n                firstVisibleDataItemIndex = Math.floor((scrollTop - list.top) / itemHeight),\n                firstVisibleDataItem = list.items[firstVisibleDataItemIndex];\n\n            if (firstVisibleDataItem && firstVisibleDataItem.item) {\n                var firstVisibleGroup = firstVisibleDataItem.group;\n\n                if (firstVisibleGroup !== group) {\n                    var fixedGroupText = firstVisibleGroup || \"\";\n                    this.header.html(this.templates.fixedGroupTemplate(fixedGroupText));\n                    this.currentVisibleGroup = firstVisibleGroup;\n                }\n            }\n\n            return list;\n        },\n\n        _itemMapper: function(item, index, value) {\n            var listType = this.options.type,\n                itemHeight = this.options.itemHeight,\n                currentIndex = this._focusedIndex,\n                selected = false,\n                current = false,\n                newGroup = false,\n                group = null,\n                match = false,\n                valueGetter = this._valueGetter;\n\n            if (listType === \"group\") {\n                if (item) {\n                    newGroup = index === 0 || (this._currentGroup !== false && this._currentGroup !== item.group);\n                    this._currentGroup = item.group;\n                }\n\n                group = item ? item.group : null;\n                item = item ? item.item : null;\n            }\n\n            if (this.options.mapValueTo === \"dataItem\" && this._selectedDataItems.length && item) {\n                for (var i = 0; i < this._selectedDataItems.length; i++) {\n                    match = valueGetter(this._selectedDataItems[i]) === valueGetter(item);\n                    if (match) {\n                        selected = true;\n                        break;\n                    }\n                }\n            } else if (!this.isFiltered() && value.length && item) {\n                for (var j = 0; j < value.length; j++) {\n                    match = isPrimitive(item) ? value[j] === item : value[j] === valueGetter(item);\n                    if (match) {\n                        value.splice(j , 1);\n                        selected = true;\n                        break;\n                    }\n                }\n            }\n\n            if (currentIndex === index) {\n                current = true;\n            }\n\n            return {\n                item: item ? item : null,\n                group: group,\n                newGroup: newGroup,\n                selected: selected,\n                current: current,\n                index: index,\n                top: index * itemHeight\n            };\n        },\n\n        _range: function(index) {\n            var itemCount = this.itemCount,\n                value = this._values.slice(),\n                items = [],\n                item;\n\n            this._view = {};\n            this._currentGroup = false;\n\n            for (var i = index, length = index + itemCount; i < length; i++) {\n                item = this._itemMapper(this.getter(i, index), i, value);\n                if (items[items.length - 1]) {\n                    items[items.length - 1].isLastGroupedItem = item.newGroup;\n                }\n                items.push(item);\n                this._view[item.index] = item;\n            }\n\n            this._dataView = items;\n            return items;\n        },\n\n        _getDataItemsCollection: function(scrollTop, lastScrollTop) {\n            var items = this._range(this._listIndex(scrollTop, lastScrollTop));\n            return {\n                index: items.length ? items[0].index : 0,\n                top: items.length ? items[0].top : 0,\n                items: items\n            };\n        },\n\n        _listItems: function() {\n            var screenHeight = this._screenHeight,\n                options = this.options;\n\n            var theValidator = listValidator(options, screenHeight);\n\n            return (function(value, force) {\n                var result = this.result,\n                    lastScrollTop = this._lastScrollTop;\n\n                if (force || !result || !theValidator(result, value, lastScrollTop)) {\n                    result = this._getDataItemsCollection(value, lastScrollTop);\n                }\n\n                this._lastScrollTop = value;\n                this.result = result;\n\n                return result;\n            }).bind(this);\n        },\n\n        _whenChanged: function(getter, callback) {\n            var current;\n\n            return function(force) {\n                var theNew = getter(force);\n\n                if (theNew !== current) {\n                    current = theNew;\n                    callback(theNew, force);\n                }\n            };\n        },\n\n        _reorderList: function(list, reorder) {\n            var that = this;\n            var length = list.length;\n            var currentOffset = -Infinity;\n            reorder = map2(reorder, this.templates).bind(this);\n\n            return function(list2, offset, force) {\n                var diff = offset - currentOffset;\n                var range, range2;\n\n                if (force || Math.abs(diff) >= length) { // full reorder\n                    range = list;\n                    range2 = list2;\n                } else { // partial reorder\n                    range = reshift(list, diff);\n                    range2 = diff > 0 ? list2.slice(-diff) : list2.slice(0, -diff);\n                }\n\n                reorder(range, range2, that.bound());\n\n                currentOffset = offset;\n            };\n        },\n\n        _bufferSizes: function() {\n            var options = this.options;\n\n            return bufferSizes(this._screenHeight, options.listScreens, options.oppositeBuffer);\n        },\n\n        _indexConstraint: function(position) {\n            var itemCount = this.itemCount,\n                itemHeight = this.options.itemHeight,\n                total = this.dataSource.total();\n\n            return Math.min(Math.max(total - itemCount, 0), Math.max(0, Math.floor(position / itemHeight )));\n        },\n\n        _listIndex: function(scrollTop, lastScrollTop) {\n            var buffers = this._bufferSizes(),\n                position;\n\n            position = scrollTop - ((scrollTop > lastScrollTop) ? buffers.down : buffers.up);\n\n            return this._indexConstraint(position);\n        },\n\n        _selectable: function() {\n            var itemClass = this.options.columns && this.options.columns.length ? TABLE_ITEM : LIST_ITEM;\n\n            if (this.options.selectable) {\n                this._selectProxy = this._clickHandler.bind(this);\n                this.element.on(CLICK + VIRTUAL_LIST_NS, \".\" + itemClass, this._selectProxy);\n            }\n        },\n\n        getElementIndex: function(element) {\n            if (!(element instanceof jQuery)) {\n                return undefined$1;\n            }\n\n            return parseInt(element.attr(\"data-offset-index\"), 10);\n        },\n\n        _getIndecies: function(candidate) {\n            var result = [], data;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n                for (var idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        result.push(idx);\n                        break;\n                    }\n                }\n            }\n\n            if (typeof candidate === \"number\") {\n                result.push(candidate);\n            }\n\n            var elementIndex = this.getElementIndex(candidate);\n            if (!isNaN(elementIndex)) {\n                result.push(elementIndex);\n            }\n\n            if (candidate instanceof Array) {\n                result = candidate;\n            }\n\n            return result;\n        },\n\n        _deselect: function(indices) {\n            var removed = [],\n                selectedIndex,\n                dataItem,\n                selectedIndexes = this._selectedIndexes,\n                selectedDataItems = this._selectedDataItems,\n                position = 0,\n                selectable = this.options.selectable,\n                removedindexesCounter = 0,\n                valueGetter = this._valueGetter,\n                item, match,\n                result = null;\n\n            indices = indices.slice();\n\n            if (selectable === true || !indices.length) { //deselect everything\n                for (var idx = 0; idx < selectedIndexes.length; idx++) {\n                    if (selectedIndexes[idx] !== undefined$1) {\n                        this._getElementByIndex(selectedIndexes[idx]).removeClass(SELECTED);\n                    } else if (selectedDataItems[idx]) {\n                        this._getElementByDataItem(selectedDataItems[idx]).removeClass(SELECTED);\n                    }\n\n                    removed.push({\n                        index: selectedIndexes[idx],\n                        position: idx,\n                        dataItem: selectedDataItems[idx]\n                    });\n                }\n\n                this._values = [];\n                this._selectedDataItems = [];\n                this._selectedIndexes = [];\n            } else if (selectable === \"multiple\") {\n                for (var i = 0; i < indices.length; i++) {\n                    result = null;\n                    position = $.inArray(indices[i], selectedIndexes);\n                    dataItem = this.dataItemByIndex(indices[i]);\n\n                    if (position === -1 && dataItem) {\n                        for (var j = 0; j < selectedDataItems.length; j++) {\n                            match = isPrimitive(dataItem) ? selectedDataItems[j] === dataItem : valueGetter(selectedDataItems[j]) === valueGetter(dataItem);\n                            if (match) {\n                                item = this._getElementByIndex(indices[i]);\n                                result = this._deselectSingleItem(item, j, indices[i], removedindexesCounter);\n                            }\n                        }\n                    } else {\n                        selectedIndex = selectedIndexes[position];\n\n                        if (selectedIndex !== undefined$1) {\n                            item = this._getElementByIndex(selectedIndex);\n                            result = this._deselectSingleItem(item, position, selectedIndex, removedindexesCounter);\n                        }\n                    }\n\n                    if (result) {\n                        indices.splice(i, 1);\n                        removed.push(result);\n\n                        removedindexesCounter++;\n                        i--;\n                    }\n                }\n            }\n\n            return {\n                indices: indices,\n                removed: removed\n            };\n        },\n\n        _deselectSingleItem: function(item, position, selectedIndex, removedindexesCounter) {\n            var dataItem;\n\n            if (!item.hasClass(SELECTED)) {\n                return;\n            }\n\n            item.removeClass(SELECTED);\n            this._values.splice(position, 1);\n            this._selectedIndexes.splice(position, 1);\n            dataItem = this._selectedDataItems.splice(position, 1)[0];\n\n            return {\n                index: selectedIndex,\n                position: position + removedindexesCounter,\n                dataItem: dataItem\n            };\n        },\n\n        _deselectCurrentValues: function(indices) {\n            var children = this.element[0].children;\n            var value, index, position;\n            var values = this._values;\n            var removed = [];\n            var idx = 0;\n            var j;\n\n            if (this.options.selectable !== \"multiple\" || !this.isFiltered()) {\n                return [];\n            }\n\n            if (indices[0] === -1) {\n                $(children).removeClass(SELECTED);\n                removed = $.map(this._selectedDataItems.slice(0), function(dataItem, idx) {\n                   return {\n                      dataItem: dataItem,\n                      position: idx\n                   };\n                });\n                this._selectedIndexes = [];\n                this._selectedDataItems = [];\n                this._values = [];\n                return removed;\n            }\n\n            for (; idx < indices.length; idx++) {\n                position = -1;\n                index = indices[idx];\n                if (this.dataItemByIndex(index)) {\n                    value = this._valueGetter(this.dataItemByIndex(index));\n                }\n\n                for (j = 0; j < values.length; j++) {\n                    if (value == values[j]) {\n                        position = j;\n                        break;\n                    }\n                }\n\n                if (position > -1) {\n                    removed.push(this.removeAt(position));\n                    $(children[index]).removeClass(SELECTED);\n                }\n            }\n\n            return removed;\n        },\n\n        _getSkip: function(index, take) {\n            var page = index < take ? 1 : Math.floor(index / take) + 1;\n\n            return (page - 1) * take;\n        },\n\n        _select: function(indexes) {\n            var that = this,\n                singleSelection = this.options.selectable !== \"multiple\",\n                dataSource = this.dataSource,\n                dataItem, oldSkip,\n                take = this.itemCount,\n                valueGetter = this._valueGetter,\n                added = [];\n\n            if (singleSelection) {\n                that._selectedIndexes = [];\n                that._selectedDataItems = [];\n                that._values = [];\n            }\n\n            oldSkip = dataSource.skip();\n\n            $.each(indexes, function(_, index) {\n                var skip = that._getSkip(index, take);\n\n                that.mute(function() {\n                    dataSource.range(skip, take); //switch the range to get the dataItem\n\n                    dataItem = that._findDataItem(dataSource.view(), [index - skip]);\n                    that._selectedIndexes.push(index);\n                    that._selectedDataItems.push(dataItem);\n                    that._values.push(isPrimitive(dataItem) ? dataItem : valueGetter(dataItem));\n\n                    added.push({\n                        index: index,\n                        dataItem: dataItem\n                    });\n\n                    that._getElementByIndex(index).addClass(SELECTED);\n\n                    dataSource.range(oldSkip, take); //switch back the range\n                });\n            });\n\n            that._values = that._checkValuesOrder(that._values);\n\n            return added;\n        },\n\n        _clickHandler: function(e) {\n            var item = $(e.currentTarget);\n\n            if (!e.isDefaultPrevented() && item.attr(\"data-uid\")) {\n                this.trigger(CLICK, { item: item });\n            }\n        },\n\n        _buildValueGetter: function() {\n            this._valueGetter = kendo.getter(this.options.dataValueField);\n        },\n\n        _calculateGroupPadding: function(height) {\n            var firstItem = this.items().first(),\n                groupHeader = this.header,\n                padding = 0;\n\n            if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                if (height !== \"auto\") {\n                    padding = kendo.support.scrollbar();\n                }\n\n                padding += parseFloat(firstItem.css(\"border-right-width\"), 10) + parseFloat(firstItem.children(\".k-group\").css(\"right\"), 10);\n\n                groupHeader.css(\"padding-right\", padding);\n            }\n        },\n\n        _calculateColumnsHeaderPadding: function() {\n            if (this.options.columns && this.options.columns.length) {\n                var isRtl = kendo.support.isRtl(this.wrapper);\n                var scrollbar = kendo.support.scrollbar();\n                var columnsHeader = this.content.parent().parent().find(\".k-table-header\");\n                var total = this.dataSource.total();\n\n                columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), total ? scrollbar : 0);\n            }\n        }\n\n    });\n\n    kendo.ui.VirtualList = VirtualList;\n    kendo.ui.plugin(VirtualList);\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}