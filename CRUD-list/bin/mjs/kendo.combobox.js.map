{"version":3,"file":"kendo.combobox.js","names":["$","kendo","jQuery","addInputPrefixSuffixContainers","widget","wrapper","options","prefixInsertBefore","suffixInsertAfter","prefixContainer","suffixContainer","prefix","prefixOptions","suffix","suffixOptions","hasPrefixContent","template","icon","hasSuffixContent","layoutFlow","containerOrientation","INPUT_SEPARATOR","children","insertBefore","prependTo","html","renderIcon","separator","insertAfter","appendTo","_prefixContainer","_suffixContainer","__meta__","id","name","category","description","depends","features","undefined$1","window","encode","htmlEncode","ui","List","Select","caret","support","placeholderSupported","placeholder","activeElement","_activeElement","keys","ns","nsFocusEvent","CLICK","MOUSEDOWN","DISABLED","READONLY","CHANGE","FOCUSED","STATEDISABLED","ARIA_DISABLED","ARIA_READONLY","STATE_FILTER","STATE_ACCEPT","STATE_REBIND","HOVEREVENTS","newLineRegEx","NON_PRINTABLE_KEYS","ComboBox","extend","init","element","text","that","this","Array","isArray","dataSource","fn","call","on","_focusHandler","bind","attr","_reset","_wrapper","_input","_clearButton","_tabindex","input","_popup","_dataSource","_ignoreCase","_enable","_attachFocusEvents","_oldIndex","selectedIndex","_initialIndex","index","requireValueMapper","_initList","_cascade","autoBind","_filterSource","_isSelect","_setText","_placeholder","parents","is","enable","_clear","parent","length","notify","_toggleCloseVisibility","_applyCssClasses","label","_label","_aria","enabled","value","delay","dataTextField","dataValueField","minLength","enforceMinLength","height","highlightFirst","filter","suggest","cascadeFrom","cascadeFromField","cascadeFromParentField","cascadeOnCustomValue","ignoreCase","animation","virtual","groupTemplate","data","fixedGroupTemplate","clearButton","syncValueAndText","autoWidth","popup","size","fillMode","rounded","clearOnEscape","_removeDataItems","_shouldPreventDefaultReset","events","setOptions","listOptions","_listOptions","listView","_accessors","destroy","off","clearTimeout","_pasteTimeout","filterInput","_arrow","addClass","_onActionSheetCreate","_keydown","_search","_inputPaste","role","val","trigger","_onCloseButtonPressed","textField","focus","_syncValueAndText","dataItem","_accessor","_blur","_oldText","_isValueChanged","unifyType","_old","_change","hasText","isCustom","_typing","_inputFocus","_inputFocusout","e","target","_arrowClick","_toggle","isClearButton","relatedTarget","closest","_userTriggered","removeClass","_typingTimeout","item","_focus","dataItemByIndex","getElementIndex","select","_valueBeforeCascade","setTimeout","search","_editable","disable","readonly","add","arrow","clear","_toggleHover","prop","preventDefault","_clearValue","open","state","_state","isFiltered","filters","reinitialized","ul","find","visible","bound","_open","refresh","_openPopup","_allowOpening","_hovered","_focusItem","_scrollToFocusedItem","scrollToIndex","one","_updateSelectionState","_buildOptions","custom","_customOption","_options","selected","_emptySearch","_custom","_updateSelection","initialIndex","hasInitialIndex","_fetch","selectedDataItems","_value","_text","_selectValue","_updateItemFocus","focusIndex","_listBound","isActive","flatView","skip","groupsLength","_group","isFirstPage","_presetValue","_renderFooter","_renderNoData","_toggleNoData","_toggleHeader","_resizePopup","position","close","toggle","_hideBusy","_listChange","_get","candidate","found","idx","total","_select","keepState","done","_dataValue","_setDomInputValue","_triggerCascade","caretStart","currentCaret","_prev","mobile","mobileOS","wp","android","setSelectionRange","preventShow","_showClear","_hideClear","word","caretIdx","key","_last","accentFoldingFiltering","BACKSPACE","DELETE","view","inArray","toLocaleLowerCase","toLowerCase","indexOf","toString","substring","loweredText","replace","_cascadeTriggered","_refreshFloatingLabel","_isFilterEnabled","_clearFilter","_fetchData","_selectedDataItems","_busy","_arrowIcon","show","_focused","_click","shouldTrigger","_inputValue","_searchByWord","firstChild","current","focusFirst","fetch","maxLength","arrowBtn","accessKey","SELECTOR","renderButton","shape","append","style","cssText","title","parseInt","className","css","width","tabIndex","keyCode","isFkey","isNonPrintableKey","HOME","_firstItem","END","_lastItem","ENTER","TAB","_move","ctrlKey","ESC","toggleClass","hide","wrap","_clearSelection","hasValue","_preselect","setValue","_clearText","plugin","cssProperties","registerPrefix","registerValues","values","roundedValues","concat","kendo$1"],"sources":["kendo.combobox.js"],"mappings":"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","sourcesContent":["import './kendo.list.js';\nimport './kendo.mobile.scroller.js';\nimport './kendo.virtuallist.js';\nimport './kendo.html.button.js';\n\nlet $ = kendo.jQuery;\n\nfunction addInputPrefixSuffixContainers({ widget, wrapper, options, prefixInsertBefore, suffixInsertAfter }) {\n    var prefix = options.prefixOptions,\n        suffix = options.suffixOptions,\n        hasPrefixContent = prefix.template || prefix.icon,\n        hasSuffixContent = suffix.template || suffix.icon,\n        suffixInsertAfter = suffixInsertAfter || prefixInsertBefore,\n        layoutFlow = options.layoutFlow,\n        containerOrientation = layoutFlow ? (layoutFlow == \"vertical\" ? \"horizontal\" : \"vertical\") : \"horizontal\",\n        separatorOrientation = layoutFlow == \"vertical\" ? \"horizontal\" : \"vertical\",\n        INPUT_SEPARATOR = `<span class=\"k-input-separator k-input-separator-${separatorOrientation}\"></span>`,\n        prefixContainer,\n        suffixContainer;\n\n    if (prefix && hasPrefixContent) {\n        prefixContainer = wrapper.children(\".k-input-prefix\");\n\n        if (!prefixContainer[0]) {\n            prefixContainer = $(`<span class=\"k-input-prefix k-input-prefix-${containerOrientation}\" />`);\n            if (prefixInsertBefore) {\n                prefixContainer.insertBefore(prefixInsertBefore);\n            } else {\n                prefixContainer.prependTo(wrapper);\n            }\n        }\n\n        if (prefix.icon) {\n            prefixContainer.html(kendo.html.renderIcon({ icon: prefix.icon }));\n        }\n\n        if (prefix.template) {\n            prefixContainer.html(kendo.template(prefix.template)({}));\n        }\n\n        if (prefix.separator) {\n            $(INPUT_SEPARATOR).insertAfter(prefixContainer);\n        }\n    }\n\n    if (suffix && hasSuffixContent) {\n        suffixContainer = wrapper.children(\".k-input-suffix\");\n\n        if (!suffixContainer[0]) {\n            suffixContainer = $(`<span class=\"k-input-suffix k-input-suffix-${containerOrientation}\" />`).appendTo(wrapper);\n            if (suffixInsertAfter) {\n                suffixContainer.insertAfter(suffixInsertAfter);\n            } else {\n                suffixContainer.appendTo(wrapper);\n            }\n        }\n\n        if (suffix.icon) {\n            suffixContainer.html(kendo.html.renderIcon({ icon: suffix.icon }));\n        }\n\n        if (suffix.template) {\n            suffixContainer.html(kendo.template(suffix.template)({}));\n        }\n\n        if (suffix.separator) {\n            $(INPUT_SEPARATOR).insertBefore(suffixContainer);\n        }\n    }\n\n    widget._prefixContainer = prefixContainer;\n    widget._suffixContainer = suffixContainer;\n}\n\nvar __meta__ = {\n    id: \"combobox\",\n    name: \"ComboBox\",\n    category: \"web\",\n    description: \"The ComboBox widget allows the selection from pre-defined values or entering a new value.\",\n    depends: [ \"list\", \"html.button\" ],\n    features: [ {\n        id: \"mobile-scroller\",\n        name: \"Mobile scroller\",\n        description: \"Support for kinetic scrolling in mobile device\",\n        depends: [ \"mobile.scroller\" ]\n    }, {\n        id: \"virtualization\",\n        name: \"VirtualList\",\n        description: \"Support for virtualization\",\n        depends: [ \"virtuallist\" ]\n    } ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        encode = kendo.htmlEncode,\n        ui = kendo.ui,\n        html = kendo.html,\n        List = ui.List,\n        Select = ui.Select,\n        caret = kendo.caret,\n        support = kendo.support,\n        placeholderSupported = support.placeholder,\n        activeElement = kendo._activeElement,\n        keys = kendo.keys,\n        ns = \".kendoComboBox\",\n        nsFocusEvent = ns + \"FocusEvent\",\n        CLICK = \"click\" + ns,\n        MOUSEDOWN = \"mousedown\" + ns,\n        DISABLED = \"disabled\",\n        READONLY = \"readonly\",\n        CHANGE = \"change\",\n        LOADING = \"k-i-loading k-input-loading-icon\",\n        FOCUSED = \"k-focus\",\n        STATEDISABLED = \"k-disabled\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_READONLY = \"aria-readonly\",\n        AUTOCOMPLETEVALUE = \"off\",\n        STATE_FILTER = \"filter\",\n        STATE_ACCEPT = \"accept\",\n        STATE_REBIND = \"rebind\",\n        HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n        newLineRegEx = /(\\r\\n|\\n|\\r)/gm,\n        NON_PRINTABLE_KEYS = [16,17,18,19,20,33,34,37,39,45,91,92,144,145];\n\n    var ComboBox = Select.extend({\n        init: function(element, options) {\n            var that = this, text, disabled;\n\n            that.ns = ns;\n\n            options = Array.isArray(options) ? { dataSource: options } : options;\n\n            Select.fn.init.call(that, element, options);\n\n            options = that.options;\n            element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n            options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n            that._reset();\n\n            that._wrapper();\n\n            that._input();\n\n            that._clearButton();\n\n            that._tabindex(that.input);\n\n            that._popup();\n\n            that._dataSource();\n            that._ignoreCase();\n\n            that._enable();\n\n            that._attachFocusEvents();\n\n            that._oldIndex = that.selectedIndex = -1;\n\n            that._initialIndex = options.index;\n\n            that.requireValueMapper(that.options);\n            that._initList();\n\n            that._cascade();\n\n            if (options.autoBind) {\n                that._filterSource();\n            } else {\n                text = options.text;\n\n                if (!text && that._isSelect) {\n                    text = element.children(\":selected\").text();\n                }\n\n                if (text) {\n                    that._setText(text);\n                }\n            }\n\n            if (!text) {\n                that._placeholder();\n            }\n\n            disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n            if (disabled) {\n                that.enable(false);\n            }\n\n            addInputPrefixSuffixContainers({ widget: that, wrapper: that.wrapper, options: that.options,\n                prefixInsertBefore: that.input,\n                suffixInsertAfter: that._clear.parent().length ? that._clear : that.input });\n\n            kendo.notify(that);\n            that._toggleCloseVisibility();\n            that._applyCssClasses();\n\n            if (options.label) {\n                that._label();\n            }\n\n            that._aria();\n        },\n\n        options: {\n            name: \"ComboBox\",\n            enabled: true,\n            index: -1,\n            text: null,\n            value: null,\n            autoBind: true,\n            delay: 200,\n            dataTextField: \"\",\n            dataValueField: \"\",\n            minLength: 1,\n            enforceMinLength: false,\n            height: 200,\n            highlightFirst: true,\n            filter: \"none\",\n            placeholder: \"\",\n            suggest: false,\n            cascadeFrom: \"\",\n            cascadeFromField: \"\",\n            cascadeFromParentField: \"\",\n            cascadeOnCustomValue: false,\n            ignoreCase: true,\n            animation: {},\n            virtual: false,\n            template: null,\n            groupTemplate: (data) => encode(data),\n            fixedGroupTemplate: (data) => encode(data),\n            prefixOptions: {\n                separator: true\n            },\n            suffixOptions: {\n                separator: true\n            },\n            clearButton: true,\n            syncValueAndText: true,\n            autoWidth: false,\n            popup: null,\n            size: \"medium\",\n            fillMode: \"solid\",\n            rounded: \"medium\",\n            label: null,\n            clearOnEscape: true,\n            _removeDataItems: true,\n            _shouldPreventDefaultReset: true\n        },\n\n        events: [\n            \"open\",\n            \"close\",\n            CHANGE,\n            \"select\",\n            \"filtering\",\n            \"dataBinding\",\n            \"dataBound\",\n            \"cascade\",\n            \"set\"\n        ],\n\n        setOptions: function(options) {\n            var listOptions = this._listOptions(options);\n\n            Select.fn.setOptions.call(this, options);\n\n            this.listView.setOptions(listOptions);\n\n            this._accessors();\n            this._aria();\n            this._clearButton();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.input.off(ns);\n            that.input.off(nsFocusEvent);\n            that.element.off(ns);\n            that.wrapper.off(ns);\n            clearTimeout(that._pasteTimeout);\n\n            if (that.filterInput) {\n                that.filterInput.off(ns);\n            }\n\n            that._arrow.off(CLICK + \" \" + MOUSEDOWN);\n            that._clear.off(CLICK + \" \" + MOUSEDOWN);\n\n            Select.fn.destroy.call(that);\n        },\n\n        _popup: function() {\n            Select.fn._popup.call(this);\n            this.popup.element.addClass(\"k-combobox-popup\");\n        },\n\n        _onActionSheetCreate: function() {\n            var that = this;\n\n            if (that.filterInput) {\n                that.filterInput\n                    .on(\"keydown\" + ns, that._keydown.bind(that))\n                    .on(\"input\" + ns, that._search.bind(that))\n                    .on(\"paste\" + ns, that._inputPaste.bind(that))\n                    .attr({\n                        \"role\": \"combobox\",\n                        \"aria-expanded\": false\n                    });\n\n                that.popup.bind(\"activate\", () => {\n                    that.filterInput.val(that.input.val());\n                    that.filterInput.trigger(\"focus\");\n                });\n\n                that.popup.bind(\"deactivate\", () => {\n                    that.input.trigger(\"focus\");\n                });\n            }\n        },\n\n        _onCloseButtonPressed: function() {\n            var that = this;\n            var textField = that.options.dataTextField || \"text\";\n            var current = that.listView.focus();\n\n            if (!current) {\n                if (that._syncValueAndText() || that._isSelect) {\n                    if (!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                        var input = that.filterInput && activeElement() === that.filterInput[0] ? that.filterInput : that.input;\n                        that._accessor(input.val());\n                    }\n                }\n\n                if (that.options.highlightFirst) {\n                    that.listView.value(that.input.val());\n                    that._blur();\n                } else {\n                    that._oldText = that.text();\n                }\n            }\n        },\n\n        _isValueChanged: function(value) {\n            return value !== List.unifyType(this._old, typeof value) &&\n                value !== List.unifyType(this._oldText, typeof value);\n        },\n\n        _change: function() {\n            var that = this;\n            var text = that.text();\n            var hasText = text && text !== that._oldText && text !== that.options.placeholder;\n            var index = that.selectedIndex;\n            var isCustom = index === -1;\n\n            if (that.filterInput && activeElement() === that.filterInput[0] && isCustom && hasText) {\n                that.input.val(that.filterInput.val());\n            }\n\n            if (!that.options.syncValueAndText && !that.value() && isCustom && hasText) {\n                that._old = \"\";\n                that._oldIndex = index;\n                that._oldText = text;\n\n                if (!that._typing) {\n                    // trigger the DOM change event so any subscriber gets notified\n                    that.element.trigger(CHANGE);\n                }\n\n                that.trigger(CHANGE);\n                that._typing = false;\n                return;\n            }\n\n            Select.fn._change.call(that);\n\n            that._oldText = that.text && that.text();\n\n            that._toggleCloseVisibility();\n        },\n\n        _attachFocusEvents: function() {\n            var that = this;\n            that.input.on(\"focus\" + nsFocusEvent, that._inputFocus.bind(that))\n                      .on(\"focusout\" + nsFocusEvent, that._inputFocusout.bind(that));\n        },\n\n        _focusHandler: function(e) {\n            if (e.target === this.element[0]) {\n                this.input.trigger(\"focus\");\n            }\n        },\n\n        _arrowClick: function() {\n            this._toggle();\n        },\n\n        _inputFocus: function() {\n            this.wrapper.addClass(FOCUSED);\n            this._placeholder(false);\n        },\n\n        _inputFocusout: function(e) {\n            var that = this;\n            var value = that.value();\n            var isClearButton = !$(e.relatedTarget).closest('.k-clear-value').length;\n\n            if (that.filterInput && e.relatedTarget === that.filterInput[0]) {\n                return;\n            }\n\n            that._userTriggered = true;\n            that.wrapper.removeClass(FOCUSED);\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (isClearButton) {\n              that.text(that.text());\n            }\n\n            var item = that._focus();\n            var dataItem = this.listView.dataItemByIndex(this.listView.getElementIndex(item));\n            var selectedIndex = that.select();\n\n            if (value !== that.value() && selectedIndex !== -1 && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.value(value);\n                return;\n            }\n\n            that._placeholder();\n            that._valueBeforeCascade = that._old;\n\n            if (isClearButton) {\n                that._blur();\n\n                that.element.trigger(\"blur\");\n            }\n        },\n\n        _inputPaste: function() {\n            var that = this;\n            clearTimeout(that._pasteTimeout);\n            that._pasteTimeout = null;\n\n            that._pasteTimeout = setTimeout(function() {\n                that.search();\n            });\n        },\n\n        _editable: function(options) {\n            var that = this,\n                disable = options.disable,\n                readonly = options.readonly,\n                wrapper = that.wrapper.off(ns),\n                input = that.element.add(that.input.off(ns)),\n                arrow = that._arrow.off(CLICK + \" \" + MOUSEDOWN),\n                clear = that._clear;\n\n            if (!readonly && !disable) {\n                wrapper\n                    .removeClass(STATEDISABLED)\n                    .on(HOVEREVENTS, that._toggleHover);\n\n                input.prop(DISABLED, false)\n                     .prop(READONLY, false)\n                     .attr(ARIA_DISABLED, false)\n                     .attr(ARIA_READONLY, false);\n\n                arrow.on(CLICK, that._arrowClick.bind(that))\n                     .on(MOUSEDOWN, function(e) { e.preventDefault(); });\n\n                clear.on(CLICK + \" touchend\" + ns, that._clearValue.bind(that));\n\n                that.input\n                    .on(\"keydown\" + ns, that._keydown.bind(that))\n                    .on(\"input\" + ns, that._search.bind(that))\n                    .on(\"paste\" + ns, that._inputPaste.bind(that));\n\n                that.wrapper.on(CLICK + ns, that._focusHandler.bind(that));\n            } else {\n                wrapper\n                    .addClass(disable ? STATEDISABLED : \"\")\n                    .removeClass(disable ? \"\" : STATEDISABLED);\n\n                input.attr(DISABLED, disable)\n                     .attr(READONLY, readonly)\n                     .attr(ARIA_DISABLED, disable)\n                     .attr(ARIA_READONLY, readonly);\n            }\n\n            that._toggleCloseVisibility();\n        },\n\n        open: function() {\n            var that = this;\n            var state = that._state;\n            var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n            var reinitialized = !that.ul.find(that.listView.focus()).length;\n\n            if (that.popup.visible()) {\n                return;\n            }\n\n            if ((!that.listView.bound() && state !== STATE_FILTER) || state === STATE_ACCEPT) {\n                that._open = true;\n                that._state = STATE_REBIND;\n\n                if ((that.options.minLength !== 1 && !isFiltered) || (isFiltered && that.value() && that.selectedIndex === -1 )) {\n                    that.refresh();\n                    that._openPopup();\n                    if (!this.options.virtual) {\n                        that.listView.bound(false);\n                    }\n                } else {\n                    that._filterSource();\n                }\n            } else if (that._allowOpening()) {\n                // In some cases when the popup is opened resize is triggered which will cause it to close\n                // Setting the below flag will prevent this from happening\n                that.popup._hovered = true;\n                that._openPopup();\n                if (that.options.virtual) {\n                    that._focusItem();\n                } else if (reinitialized && that.options.highlightFirst) {\n                    that.listView.focus(0);\n                }\n            }\n        },\n\n        _scrollToFocusedItem: function() {\n            var listView = this.listView;\n\n            listView.scrollToIndex(listView.getElementIndex(listView.focus()));\n        },\n\n        _openPopup: function() {\n            this.popup.one(\"activate\", this._scrollToFocusedItem.bind(this));\n            this.popup.open();\n        },\n\n        _updateSelectionState: function() {\n            var that = this;\n            var text = that.options.text;\n            var value = that.options.value;\n\n            if (that.listView.isFiltered()) {\n                return;\n            }\n\n            if (that.selectedIndex === -1) {\n                if (text === undefined$1 || text === null) {\n                    text = value;\n                }\n\n                that._accessor(value);\n                that.input.val(text || that.input.val());\n                that._placeholder();\n            } else if (that._oldIndex === -1) {\n                that._oldIndex = that.selectedIndex;\n            }\n        },\n\n        _buildOptions: function(data) {\n            var that = this;\n            if (!that._isSelect) {\n                return;\n            }\n\n            var custom = that._customOption;\n\n            if (that._state === STATE_REBIND) {\n                that._state = \"\";\n            }\n\n            that._customOption = undefined$1;\n            that._options(data, \"\", that.value());\n\n            if (custom && custom[0].selected && !that.listView._emptySearch) {\n                that._custom(custom.val());\n            }\n        },\n\n        _updateSelection: function() {\n            var that = this;\n            var listView = that.listView;\n            var initialIndex = that._initialIndex;\n            var hasInitialIndex = initialIndex !== null && initialIndex > -1;\n            var filtered = that._state === STATE_FILTER;\n\n            if (filtered) {\n                $(listView.focus()).removeClass(\"k-selected\");\n                return;\n            }\n\n            if (that._fetch) {\n                return;\n            }\n\n            if (!listView.value().length) {\n                if (hasInitialIndex) {\n                    that.select(initialIndex);\n                } else if (that._accessor()) {\n                    listView.value(that._accessor());\n                }\n            }\n\n            that._initialIndex = null;\n            var dataItem = listView.selectedDataItems()[0];\n\n            if (!dataItem) {\n                return;\n            }\n\n            if (that._value(dataItem) !== that.value()) {\n                that._custom(that._value(dataItem));\n            } else if (that._value(dataItem) !== that.element[0].value) {\n                that._accessor(that._value(dataItem));\n            }\n\n            if (that.text() && that.text() !== that._text(dataItem)) {\n                that._selectValue(dataItem);\n            }\n        },\n\n        _updateItemFocus: function() {\n            var listView = this.listView;\n\n            if (!this.options.highlightFirst) {\n                listView.focus(-1);\n            } else if (!listView.focus() && !listView.focusIndex()) {\n                listView.focus(0);\n            }\n        },\n\n        _listBound: function() {\n            var that = this;\n            var isActive = that.input[0] === activeElement() || that.filterInput && that.filterInput[0] === activeElement();\n\n            var data = that.dataSource.flatView();\n            var skip = that.listView.skip();\n            var length = data.length;\n            var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n            var isFirstPage = skip === undefined$1 || skip === 0;\n\n            that._presetValue = false;\n\n            that._renderFooter();\n            that._renderNoData();\n            that._toggleNoData(!length);\n            that._toggleHeader(!!groupsLength && !!length);\n\n            that._resizePopup();\n\n            that.popup.position();\n\n            that._buildOptions(data);\n\n            that._updateSelection();\n\n            if (data.length && isFirstPage) {\n                that._updateItemFocus();\n\n                if (that.options.suggest && isActive && that.input.val()) {\n                    that.suggest(data[0]);\n                }\n            }\n\n            if (that._open) {\n                that._open = false;\n\n                if (that._typingTimeout && !isActive) {\n                    that.popup.close();\n                } else {\n                    that.toggle(that._allowOpening());\n                }\n\n                that._typingTimeout = null;\n            }\n\n            that._hideBusy();\n            that.trigger(\"dataBound\");\n        },\n\n        _listChange: function() {\n            this._selectValue(this.listView.selectedDataItems()[0]);\n\n            if (this._presetValue) {\n                this._oldIndex = this.selectedIndex;\n            }\n        },\n\n        _get: function(candidate) {\n            var data, found, idx;\n\n            if (typeof candidate === \"function\") {\n                data = this.dataSource.flatView();\n\n                for (idx = 0; idx < data.length; idx++) {\n                    if (candidate(data[idx])) {\n                        candidate = idx;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    candidate = -1;\n                }\n            }\n\n            if (!this.dataSource.total() && !candidate) {\n                candidate = -1;\n            }\n\n            return candidate;\n        },\n\n        _select: function(candidate, keepState) {\n            var that = this;\n\n            candidate = that._get(candidate);\n\n            if (candidate === -1) {\n                that.input[0].value = \"\";\n                that._accessor(\"\");\n            }\n\n            return that.listView.select(candidate).done(function() {\n                if (!keepState && that._state === STATE_FILTER) {\n                    that._state = STATE_ACCEPT;\n                }\n                that._toggleCloseVisibility();\n            });\n        },\n\n        _selectValue: function(dataItem) {\n            var idx = this.listView.select();\n            var value = \"\";\n            var text = \"\";\n\n            idx = idx[idx.length - 1];\n            if (idx === undefined$1) {\n                idx = -1;\n            }\n\n            this.selectedIndex = idx;\n\n            if (this.listView.isFiltered() && idx !== -1) {\n                this._valueBeforeCascade = this._old;\n            }\n\n            if (idx === -1 && !dataItem) {\n                if (this.options.syncValueAndText) {\n                    if (this.options.dataTextField === this.options.dataValueField) {\n                        text = this._accessor();\n                    } else {\n                        text = this.input[0].value;\n                    }\n                    value = text;\n                }\n                else {\n                    text = this.text();\n                }\n                this.listView.focus(-1);\n            } else {\n                if (dataItem || dataItem === 0) {\n                    value = this._dataValue(dataItem);\n                    text = this._text(dataItem);\n                }\n\n                if (value === null) {\n                    value = \"\";\n                }\n            }\n\n            this._setDomInputValue(text);\n            this._accessor(value !== undefined$1 ? value : text, idx);\n\n            this._placeholder();\n            this._triggerCascade();\n        },\n\n        _setDomInputValue: function(text) {\n            var that = this;\n            var currentCaret = caret(this.input);\n            var caretStart;\n\n            if (currentCaret && currentCaret.length) {\n                caretStart = currentCaret[0];\n            }\n\n            this._prev = this.input[0].value = text;\n\n            if (caretStart && this.selectedIndex === -1) {\n                var mobile = support.mobileOS;\n                if (mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                    setTimeout(function() { that.input[0].setSelectionRange(caretStart, caretStart); }, 0);\n                }\n                else {\n                    this.input[0].setSelectionRange(caretStart, caretStart);\n                }\n            }\n        },\n\n        refresh: function() {\n            this.listView.refresh();\n        },\n\n        _toggleCloseVisibility: function() {\n            var preventShow = this.element.is(\":disabled\") || this.element.is(\"[readonly]\");\n\n            if (this.text() && !preventShow) {\n                this._showClear();\n            } else {\n                this._hideClear();\n            }\n        },\n\n        suggest: function(word) {\n            var that = this;\n            var element = that.input[0];\n            var value = that.text();\n            var caretIdx = caret(element)[0];\n            var key = that._last;\n            var idx;\n            var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n            if (key == keys.BACKSPACE || key == keys.DELETE) {\n                that._last = undefined$1;\n                return;\n            }\n\n            word = word || \"\";\n\n            if (typeof word !== \"string\") {\n                if (word[0]) {\n                    word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                }\n\n                word = word ? that._text(word) : \"\";\n            }\n\n            if (caretIdx <= 0) {\n                caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n            }\n\n            if (word) {\n                word = word.toString();\n                idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                if (idx > -1) {\n                    value += word.substring(idx + value.length);\n                }\n            } else {\n                value = value.substring(0, caretIdx);\n            }\n\n            if (value.length !== caretIdx || !word) {\n                element.value = value;\n                if (element === activeElement()) {\n                    caret(element, caretIdx, value.length);\n                }\n            }\n        },\n\n        text: function(text) {\n            text = text === null ? \"\" : text;\n\n            var that = this;\n            var input = that.filterInput && that.filterInput[0] === activeElement() ? that.filterInput[0] : that.input[0];\n            var ignoreCase = that.options.ignoreCase;\n            var loweredText = text;\n            var dataItem;\n            var value;\n\n            if (text === undefined$1) {\n                return input.value;\n            }\n\n            if (that.options.autoBind === false && !that.listView.bound()) {\n                that._setText(text);\n                return;\n            }\n\n            dataItem = that.dataItem();\n\n            if (dataItem && that._text(dataItem).replace && that._text(dataItem).replace(newLineRegEx,\"\") === text) {\n                value = that._value(dataItem);\n\n                if (value === List.unifyType(that._old, typeof value)) {\n                    that._triggerCascade();\n                    return;\n                }\n            }\n\n            if (ignoreCase) {\n                loweredText = loweredText.toLowerCase();\n            }\n\n            if (that.dataItem() && that._text(that.dataItem()) === text) {\n                return;\n            }\n\n            that._select(function(data) {\n                data = that._text(data);\n                if (ignoreCase) {\n                    data = (data + \"\").toLowerCase();\n                }\n\n                return data === loweredText;\n            }).done(function() {\n                if (that.selectedIndex < 0) {\n                    input.value = text;\n\n                    if (that.options.syncValueAndText) {\n                        that._accessor(text);\n                    }\n\n                    that._cascadeTriggered = true;\n                    that._triggerCascade();\n                    that._refreshFloatingLabel();\n                }\n\n                that._prev = input.value;\n            });\n\n            that._toggleCloseVisibility();\n        },\n\n        toggle: function(toggle) {\n            this._toggle(toggle, true);\n        },\n\n        value: function(value) {\n            var that = this;\n            var options = that.options;\n            var listView = that.listView;\n\n            if (value === undefined$1) {\n                value = that._accessor() || that.listView.value()[0];\n                return value === undefined$1 || value === null ? \"\" : value;\n            }\n\n            that.requireValueMapper(that.options, value);\n\n            that.trigger(\"set\", { value: value });\n\n            if (value === options.value && that.input.val() === options.text &&\n            !that.options.cascadeFrom) {\n                return;\n            }\n\n            that._accessor(value);\n\n            if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                that._clearFilter();\n            } else {\n                that._fetchData();\n            }\n\n            listView\n                .value(value)\n                .done(function() {\n                    if (that.selectedIndex === -1 && (!listView._selectedDataItems || !listView._selectedDataItems.length)) {\n                        that._accessor(value);\n                        that.input.val(value);\n                        that._placeholder(true);\n                    }\n\n                    if (that._userTriggered) {\n                         that._old = that._accessor();\n                    } else {\n                         that._old = that._valueBeforeCascade = that._accessor();\n                    }\n\n                    that._oldIndex = that.selectedIndex;\n\n                    that._prev = that._oldText = that.input.val();\n\n                    if (that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n                    that._toggleCloseVisibility();\n\n                    that._refreshFloatingLabel();\n                });\n        },\n\n        _hideBusy: function() {\n            var that = this;\n            clearTimeout(that._busy);\n            that._arrowIcon.removeClass(LOADING);\n            that._arrowIcon.find(\"svg\").show();\n            that._focused.attr(\"aria-busy\", false);\n            that._busy = null;\n            that._toggleCloseVisibility();\n        },\n\n        _click: function(e) {\n            var that = this;\n            var item = e.item;\n            var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n            var shouldTrigger = true;\n            e.preventDefault();\n\n            if (dataItem) {\n                shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n\n                if (!shouldTrigger) {\n                   that.input.val(that._text(dataItem));\n                }\n            }\n\n            if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                that.close();\n                return;\n            }\n\n            that._userTriggered = true;\n\n            that._select(item).done(function() {\n                that._blur();\n            });\n        },\n\n        _syncValueAndText: function() {\n            return this.options.syncValueAndText;\n        },\n\n        _inputValue: function() {\n            return this.text();\n        },\n\n        _searchByWord: function(word) {\n            var that = this;\n            var options = that.options;\n            var dataSource = that.dataSource;\n            var ignoreCase = options.ignoreCase;\n            var predicate = function(dataItem) {\n                var text = that._text(dataItem);\n                if (text !== undefined$1) {\n                    text = text + \"\";\n                    if (text !== \"\" && word === \"\") {\n                        return false;\n                    }\n\n                    if (ignoreCase) {\n                        text = text.toLowerCase();\n                    }\n\n                    return text.indexOf(word) === 0;\n                }\n            };\n\n            if (ignoreCase) {\n                word = word.toLowerCase();\n            }\n\n            if (!that.ul[0].firstChild) {\n                dataSource.one(CHANGE, function() {\n                    if (dataSource.view()[0]) {\n                        that.search(word);\n                    }\n                }).fetch();\n                return;\n            }\n\n            this.listView.focus(this._get(predicate));\n\n            var current = this.listView.focus();\n\n            if (current) {\n                if (options.suggest) {\n                    that.suggest(current);\n                }\n\n                this.open();\n            }\n\n            if (this.options.highlightFirst && !word) {\n                this.listView.focusFirst();\n            }\n        },\n\n        _input: function() {\n            var that = this,\n                element = that.element.removeClass(\"k-input-inner\")[0],\n                accessKey = element.accessKey,\n                wrapper = that.wrapper,\n                SELECTOR = \"input.k-input-inner\",\n                name = element.name || \"\",\n                options = that.options,\n                input,\n                maxLength,\n                arrowBtn;\n\n            if (name) {\n                name = 'name=\"' + name + '_input\" ';\n            }\n\n            input = wrapper.find(SELECTOR);\n\n            if (!input[0]) {\n                arrowBtn = html.renderButton('<button type=\"button\" class=\"k-input-button\" aria-label=\"expand combobox\"></button>', {\n                    icon: \"caret-alt-down\",\n                    size: options.size,\n                    fillMode: options.fillMode,\n                    shape: \"none\",\n                    rounded: \"none\",\n                });\n\n                wrapper.append('<input ' + name + 'class=\"k-input-inner\" type=\"text\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\"/>')\n                    .append(arrowBtn)\n                    .append(that.element);\n\n                input = wrapper.find(SELECTOR);\n            }\n\n            input[0].style.cssText = element.style.cssText;\n            input[0].title = element.title;\n\n            maxLength = parseInt(this.element.prop(\"maxlength\") || this.element.attr(\"maxlength\"), 10);\n            if (maxLength > -1) {\n                input[0].maxLength = maxLength;\n            }\n\n            input.addClass(element.className)\n                .css({\n                    width: \"\",\n                    height: element.style.height,\n                    position: \"\"\n                })\n                .attr({\n                    \"role\": \"combobox\",\n                    \"aria-expanded\": false\n                })\n                .show();\n\n            input.attr(kendo.attr(\"skip\"), true);\n            if (placeholderSupported) {\n                input.attr(\"placeholder\", that.options.placeholder);\n            }\n\n            if (accessKey) {\n                element.accessKey = \"\";\n                input[0].accessKey = accessKey;\n            }\n\n            that._focused = that.input = input;\n            that._arrow = wrapper.find(\".k-input-button\")\n                .attr({\n                    \"role\": \"button\",\n                    \"tabIndex\": -1\n                });\n            that._arrowIcon = that._arrow.find(\".k-icon, .k-svg-icon\");\n        },\n\n        _clearButton: function() {\n            List.fn._clearButton.call(this);\n\n            if (this.options.clearButton) {\n                this._clear.insertAfter(this.input);\n            }\n        },\n\n        _keydown: function(e) {\n            var that = this,\n                key = e.keyCode,\n                textField = that.options.dataTextField || \"text\",\n                isFkey = key >= 112 && key <= 135,\n                isNonPrintableKey = NON_PRINTABLE_KEYS.indexOf(key) > -1;\n\n            that._last = key;\n\n            clearTimeout(that._typingTimeout);\n            that._typingTimeout = null;\n\n            if (key === keys.HOME) {\n                that._firstItem();\n            } else if (key === keys.END) {\n                that._lastItem();\n            } else if (key === keys.ENTER || (key === keys.TAB && that.popup.visible())) {\n                var current = that.listView.focus();\n                var dataItem = that.dataItem();\n                var shouldTrigger = true;\n\n                if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                    current = null;\n                }\n\n                if (current) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n\n                    dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(current));\n\n                    if (dataItem) {\n                        shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                    }\n\n                    if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                        return;\n                    }\n\n                    that._userTriggered = true;\n\n                    that._select(current).done(function() {\n                        that._blur();\n                        that._valueBeforeCascade = that._old = that.value();\n                    });\n                } else {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        if (!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                            var input = that.filterInput && activeElement() === that.filterInput[0] ? that.filterInput : that.input;\n                            that._accessor(input.val());\n                        }\n                    }\n\n                    if (that.options.highlightFirst) {\n                        that.listView.value(that.input.val());\n                        that._blur();\n                    } else {\n                        that._oldText = that.text();\n                    }\n                }\n            } else if (key != keys.TAB && !that._move(e) && !isNonPrintableKey && !isFkey && !e.ctrlKey) {\n               that._search();\n            } else if (that.options.clearOnEscape && key === keys.ESC && !that.popup.visible() && that.text()) {\n                that._clearValue();\n            }\n        },\n\n        _placeholder: function(show) {\n            if (placeholderSupported) {\n                return;\n            }\n\n            var that = this,\n                input = that.input,\n                placeholder = that.options.placeholder,\n                value;\n\n            if (placeholder) {\n                value = that.value();\n\n                if (show === undefined$1) {\n                    show = !value;\n                }\n\n                input.toggleClass(\"k-readonly\", show);\n\n                if (!show) {\n                    if (!value) {\n                        placeholder = \"\";\n                    } else {\n                        return;\n                    }\n                }\n\n                input.val(placeholder);\n\n                if (!placeholder && input[0] === activeElement()) {\n                    caret(input[0], 0, 0);\n                }\n            }\n        },\n\n        _search: function() {\n            var that = this;\n\n            clearTimeout(that._typingTimeout);\n\n            that._typingTimeout = setTimeout(function() {\n                var value = that.text();\n\n                if (value !== \"\" && that._prev !== value) {\n                    that._prev = value;\n\n                    if (that.options.filter === \"none\" && that.options.virtual) {\n                        that.listView.select(-1);\n                    }\n\n                    that.search(value);\n\n                    that._toggleCloseVisibility();\n                }\n                else if (value === \"\" && that._prev !== \"\" && that._prev !== undefined$1) {\n                    that._clearValue();\n                    that._open = true;\n                    that._state = STATE_REBIND;\n                }\n\n                that._typingTimeout = null;\n            }, that.options.delay);\n        },\n\n        _setText: function(text) {\n            this.input.val(text);\n            this._prev = text;\n        },\n\n        _wrapper: function() {\n            var that = this,\n                element = that.element,\n                wrapper = element.parent();\n\n            if (!wrapper.is(\"span.k-input\")) {\n                wrapper = element.hide().wrap(\"<span />\").parent();\n                wrapper[0].style.cssText = element[0].style.cssText;\n            }\n\n            that.wrapper = wrapper.addClass(\"k-input k-combobox\")\n                .addClass(element[0].className)\n                .removeClass('input-validation-error')\n                .css(\"display\", \"\");\n        },\n\n        _clearSelection: function(parent, isFiltered) {\n            var that = this;\n            var hasValue = parent.value();\n            var custom = hasValue && parent.selectedIndex === -1;\n\n            if (this.selectedIndex == -1 && this.value()) {\n                return;\n            }\n\n            if (isFiltered || !hasValue || custom) {\n                that.options.value = \"\";\n                that.value(\"\");\n            }\n        },\n\n        _preselect: function(value, text) {\n            this.input.val(text);\n            this._accessor(value);\n\n            this._old = this._accessor();\n            this._oldIndex = this.selectedIndex;\n\n            this.listView.setValue(value);\n            this._placeholder();\n\n            this._initialIndex = null;\n            this._presetValue = true;\n            this._toggleCloseVisibility();\n        },\n\n        _clearText: function() {\n            this._old = this.value();\n            this.text(\"\");\n        },\n\n        _clearValue: function() {\n            var that = this;\n            var input = that.filterInput && that.filterInput[0] === activeElement() ? that.filterInput : that.input;\n\n            Select.fn._clearValue.call(this);\n            input.trigger(\"focus\");\n        }\n    });\n\n    ui.plugin(ComboBox);\n\n    kendo.cssProperties.registerPrefix(\"ComboBox\", \"k-input-\");\n\n    kendo.cssProperties.registerValues(\"ComboBox\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}